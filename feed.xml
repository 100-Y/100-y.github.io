<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://36525.day/feed.xml" rel="self" type="application/atom+xml"/><link href="https://36525.day/" rel="alternate" type="text/html" hreflang="en"/><updated>2025-06-25T05:15:01-07:00</updated><id>https://36525.day/feed.xml</id><title type="html">blank</title><subtitle>ä»¥ã€Œ36525 å¤©ã€ä¸ºè±¡å¾ï¼Œè¿™æ˜¯æŸäººç”¨ä¸€ç”Ÿåœ¨å†™çš„ä¸€æœ¬ä¹¦ã€‚Symbolizing 36,525 days â€” a book someone writes across a lifetime. </subtitle><entry><title type="html">1925å¹´çš„ä¸­å›½æˆ˜ç•¥ / China Strategy in 1925</title><link href="https://36525.day/blog/2025-06-23/china-strategy-in-1925/" rel="alternate" type="text/html" title="1925å¹´çš„ä¸­å›½æˆ˜ç•¥ / China Strategy in 1925"/><published>2025-06-23T00:00:00-07:00</published><updated>2025-06-23T00:00:00-07:00</updated><id>https://36525.day/blog/2025-06-23/china-strategy-in-1925</id><content type="html" xml:base="https://36525.day/blog/2025-06-23/china-strategy-in-1925/"><![CDATA[<p><img src="/assets/img/blog/china-strategy-in-1925.svg" style="width:100%;" alt="china-strategy-in-1925"/></p> <hr/> <h2 id="1925å¹´çš„ä¸­å›½æˆ˜ç•¥">1925å¹´çš„ä¸­å›½æˆ˜ç•¥</h2> <hr/> <p>å‡ä½¿ä½ èº«å¤„ <strong><mark>1925å¹´çš„ä¸­å›½</mark></strong>ï¼Œ<u>æ‹¥æœ‰æ›´å¼ºå¤§çš„å¢ƒå¤–æ”¯æŒâ€”â€”åŒ…æ‹¬èµ„é‡‘ã€æŠ€æœ¯ä¸å›½é™…å½±å“åŠ›</u>â€”â€”é‚£ä¹ˆç¡®å®æœ‰å¯èƒ½æ¯”<strong><mark>å›½æ°‘å…šä¸å…±äº§å…š</mark></strong>åšå¾—æ›´å¥½ï¼Œä½†å…³é”®åœ¨äºä½ æ˜¯å¦èƒ½ä»¥è¶…è¶Šæ—¶ä»£å±€é™çš„è§†é‡ä¸æ‰§è¡ŒåŠ›æ¨è¿›ç»Ÿä¸€ã€å‘å±•ä¸ç¤¾ä¼šæ•´åˆã€‚</p> <p>ç›¸æ¯”å†›é˜€æ··æˆ˜æˆ–æ¿€çƒˆå†…æˆ˜å¯¼è‡´çš„é«˜æ˜‚ä»£ä»·ï¼Œä½ å¯ä»¥é€šè¿‡ç»æµè¯±å¯¼å’Œç¤¾ä¼šåå•†å®ç°é«˜æ•ˆç»Ÿä¸€ï¼›é€šè¿‡ä¹¡æ‘æ•™è‚²å’ŒæŠ€æœ¯è½¬ç§»å¿«é€Ÿæ‰«ç›²ä¸å·¥ä¸šåŒ–ï¼›ä»¥æ¸è¿›å¼åœŸåœ°æ”¹é©ä¸å¸‚åœºæ¿€åŠ±ç¼©å°åŸä¹¡å·®è·ï¼›åœ¨ç¤¾ä¼šæ²»ç†ä¸ŠåŒ…å®¹å„é˜¶å±‚ä¸æ–‡åŒ–ä¼ ç»Ÿï¼Œå‡å°‘æ’•è£‚ä¸åŠ¨è¡ï¼›åœ¨å¤–äº¤ä¸Šçµæ´»å¹³è¡¡åˆ—å¼ºï¼Œäº‰å–æœ€å¤§è‡ªä¸»ç©ºé—´ï¼›å¹¶æå‰å»ºç«‹ç°ä»£å†›é˜Ÿä¸å±æœºç®¡ç†ä½“ç³»ï¼Œæé«˜å›½å®¶éŸ§æ€§ã€‚</p> <p>ä½ è‹¥åšæŒï¼š<strong><mark>ä»¥äººä¸ºæœ¬ã€å†…å¤–å¹³è¡¡ã€é€Ÿåº¦ä¸ç¨³å¥å¹¶é‡</mark></strong>ï¼Œå¹¶å€Ÿ<u>åŠ©ç°ä»£æ²»ç†æ‰‹æ®µé˜²è…é˜²ä¹±</u>ï¼Œå°±å¯èƒ½æ‰“é€ ä¸€ä¸ªæ—¢é¿å…å†å²æ‚²å‰§ã€åˆèµ°å‡ºç‹¬ç«‹è‡ªä¸»å‘å±•é“è·¯çš„ç°ä»£ä¸­å›½ï¼Œæ¯”ä»»ä½•åæ¥è€…éƒ½æ›´å¿«æ›´ç¨³æ›´å°‘ä»£ä»·åœ°å®ç°å›½å®¶å´›èµ·ã€‚</p> <hr/> <h2 id="china-strategy-in-1925">China Strategy in 1925</h2> <hr/> <p>If you were in <strong><mark>China in 1925</mark></strong>, <u>with stronger external supportâ€”including funding, technology, and international influence</u>â€”it would indeed be possible to perform better than <strong><mark>the Kuomintang (KMT) or the Communist Party</mark></strong>. The key lies in whether you can advance unification, development, and social integration with a vision and execution that transcend the limitations of the time.</p> <p>Compared to the high costs of warlord conflict or civil war, you could achieve unification more efficiently through economic inducement and social negotiation; promote rapid literacy and industrialization through rural education and technology transfer; narrow the urbanâ€“rural gap through gradual land reform combined with market incentives; reduce division and unrest through inclusive governance that embraces all social classes and cultural traditions; adopt a flexible diplomatic strategy to balance foreign powers and strive for maximum autonomy; and establish modern armed forces and crisis management systems early to enhance national resilience.</p> <p>If you uphold principles such as: <strong><mark>people-centeredness, balance between internal and external forces, and combining speed with stability</mark></strong>, and <u>apply modern governance tools to combat corruption and disorder</u>, you could build a modern China that avoids historical tragedies and achieves national rise faster, more steadily, and at a lower cost than any of its historical successors.</p>]]></content><author><name></name></author><category term="Notes"/><category term="strategy"/><category term="china"/><summary type="html"><![CDATA[æ‹¥æœ‰æ›´å¼ºå¢ƒå¤–æ”¯æŒçš„ä½ ï¼Œèƒ½å¦åœ¨1925å¹´ä¸­å›½é‡æ„ç»Ÿä¸€ä¸ç°ä»£åŒ–ï¼Ÿä»æ•™è‚²ã€å¤–äº¤ã€æ²»ç†åˆ°ç»æµï¼Œè®¾æƒ³ä¸€å¥—è¶…è¶Šå†å²å±€é™çš„æˆ˜ç•¥ã€‚With stronger external support, could you reshape unification and modernization in China in 1925? From education and diplomacy to governance and the economy, this is a strategy that seeks to transcend the historical constraints of the time.]]></summary></entry><entry><title type="html">HTML æ ‡ç­¾ + Markdown è¯­æ³•ï¼šåœ¨ VS Code ä¸­ç»“åˆä½¿ç”¨çš„å®æˆ˜æŒ‡å—</title><link href="https://36525.day/blog/2025-06-22/html-tags-and-markdown-syntax/" rel="alternate" type="text/html" title="HTML æ ‡ç­¾ + Markdown è¯­æ³•ï¼šåœ¨ VS Code ä¸­ç»“åˆä½¿ç”¨çš„å®æˆ˜æŒ‡å—"/><published>2025-06-22T00:00:00-07:00</published><updated>2025-06-22T00:00:00-07:00</updated><id>https://36525.day/blog/2025-06-22/html-tags-and-markdown-syntax</id><content type="html" xml:base="https://36525.day/blog/2025-06-22/html-tags-and-markdown-syntax/"><![CDATA[<p><img src="/assets/img/blog/html-tags-and-markdown-syntax.svg" style="width:100%;" alt="html-tags-and-markdown-syntax"/></p> <hr/> <p>Markdown æ˜¯å†™ä½œç•Œçš„è½»é‡æ ‡è®°è¯­è¨€æ˜æ˜Ÿï¼Œè¯­æ³•ç®€æ´ã€æ ¼å¼æ¸…æ™°ã€‚ä½†å®ƒåœ¨æŸäº›æ ¼å¼è¡¨è¾¾ï¼ˆ<u>å¦‚ä¸‹åˆ’çº¿ã€é«˜äº®</u>ï¼‰æ–¹é¢å­˜åœ¨å±€é™ã€‚å¹¸è¿çš„æ˜¯ï¼Œ<strong><mark>Markdown å®Œå…¨æ”¯æŒå†…åµŒ HTML æ ‡ç­¾</mark></strong>ï¼Œè¿™ä½¿æˆ‘ä»¬èƒ½ç»“åˆ <code class="language-plaintext highlighter-rouge">&lt;mark&gt;</code>ã€<code class="language-plaintext highlighter-rouge">&lt;u&gt;</code> ç­‰æ ‡ç­¾å¼¥è¡¥ Markdown çš„ä¸è¶³ã€‚æœ¬æ–‡å°†ç»“åˆ <u>VS Code ç¼–è¾‘å™¨ã€Emmet å¿«æ·é”®</u>ã€è‡ªåŠ¨è¡¥å…¨è¯­æ³•ï¼Œæ•™ä½ é«˜æ•ˆå†™ä½œå‡ºæ ¼å¼ä¸°å¯Œã€ç»“æ„æ¸…æ™°çš„ Markdown æ–‡æ¡£ã€‚</p> <hr/> <h2 id="ä¸€html-æ ‡ç­¾-vs-markdown-è¯­æ³•å¯¹ç…§è¡¨">ä¸€ã€HTML æ ‡ç­¾ vs Markdown è¯­æ³•å¯¹ç…§è¡¨</h2> <hr/> <table> <thead> <tr> <th>æ ·å¼</th> <th>HTML</th> <th>Markdown</th> <th>æ•ˆæœ</th> </tr> </thead> <tbody> <tr> <td>æ–œä½“</td> <td><code class="language-plaintext highlighter-rouge">&lt;em&gt;text&lt;/em&gt;</code></td> <td><code class="language-plaintext highlighter-rouge">*text*</code></td> <td><em>text</em></td> </tr> <tr> <td>åˆ é™¤çº¿</td> <td><code class="language-plaintext highlighter-rouge">&lt;del&gt;text&lt;/del&gt;</code></td> <td><code class="language-plaintext highlighter-rouge">~~text~~</code></td> <td><del>text</del></td> </tr> <tr> <td>é«˜äº®</td> <td><code class="language-plaintext highlighter-rouge">&lt;mark&gt;text&lt;/mark&gt;</code></td> <td>Xï¼ˆä¸æ”¯æŒï¼‰</td> <td><mark>text</mark></td> </tr> <tr> <td>ä¸‹åˆ’çº¿</td> <td><code class="language-plaintext highlighter-rouge">&lt;u&gt;text&lt;/u&gt;</code></td> <td>Xï¼ˆä¸æ”¯æŒï¼‰</td> <td><u>text</u></td> </tr> </tbody> </table> <hr/> <p>æ‰€æœ‰ HTML æ ‡ç­¾åœ¨ Markdown ä¸­å¯ç›´æ¥åµŒå…¥ä½¿ç”¨ï¼Œåªè¦ Markdown æ¸²æŸ“å™¨æ”¯æŒï¼ˆå¦‚ GitHubã€Jekyllã€Obsidianï¼‰ã€‚</p> <hr/> <h2 id="äºŒåœ¨-vs-code-ä¸­é«˜æ•ˆä½¿ç”¨-html--markdown">äºŒã€åœ¨ VS Code ä¸­é«˜æ•ˆä½¿ç”¨ HTML + Markdown</h2> <hr/> <h3 id="1-è‡ªåŠ¨è¡¥å…¨-markdown-è¯­æ³•">1. è‡ªåŠ¨è¡¥å…¨ Markdown è¯­æ³•</h3> <hr/> <p>VS Code å¯¹ Markdown æä¾›åŸç”Ÿè¯­æ³•è¡¥å…¨ï¼š</p> <ul> <li>è¾“å…¥ <code class="language-plaintext highlighter-rouge">**</code> â†’ è‡ªåŠ¨ç”Ÿæˆ <code class="language-plaintext highlighter-rouge">**|**</code></li> <li>è¾“å…¥ <code class="language-plaintext highlighter-rouge">*</code> â†’ è‡ªåŠ¨ç”Ÿæˆ <code class="language-plaintext highlighter-rouge">*|*</code></li> <li>è¾“å…¥ <code class="language-plaintext highlighter-rouge">~~</code> â†’ è‡ªåŠ¨ç”Ÿæˆ <code class="language-plaintext highlighter-rouge">~~|~~</code></li> </ul> <p>å¸¸ç”¨äºåŠ ç²—ã€æ–œä½“ã€åˆ é™¤çº¿ç­‰</p> <hr/> <h3 id="2-emmet-å¿«æ·é”®åŒ…è£¹-html-æ ‡ç­¾">2. Emmet å¿«æ·é”®åŒ…è£¹ HTML æ ‡ç­¾</h3> <hr/> <p>Markdown ä¸æ”¯æŒ <code class="language-plaintext highlighter-rouge">&lt;mark&gt;</code>ã€<code class="language-plaintext highlighter-rouge">&lt;u&gt;</code> ç­‰æ ¼å¼ï¼Ÿç”¨ Emmet æ¥æ•‘åœºï¼</p> <p><strong><mark>æ“ä½œæ­¥éª¤</mark></strong></p> <ol> <li>é€‰ä¸­ Markdown æ–‡æœ¬</li> <li>ä½¿ç”¨å‘½ä»¤é¢æ¿ï¼ˆShift+Cmd+P / Ctrl+Shift+Pï¼‰æˆ–å¿«æ·é”®</li> <li>æœç´¢å¹¶æ‰§è¡Œï¼š<code class="language-plaintext highlighter-rouge">Emmet: Wrap with Abbreviation</code></li> <li>è¾“å…¥å¦‚ <code class="language-plaintext highlighter-rouge">mark</code>ã€<code class="language-plaintext highlighter-rouge">u</code>ã€<code class="language-plaintext highlighter-rouge">del</code> ç­‰æ ‡ç­¾ â†’ è‡ªåŠ¨åŒ…è£¹</li> </ol> <p><strong><mark>ç¤ºä¾‹</mark></strong></p> <ul> <li>åŸå§‹æ–‡æœ¬ï¼š<code class="language-plaintext highlighter-rouge">éœ€è¦é«˜äº®çš„éƒ¨åˆ†</code></li> <li>é€‰ä¸­å â†’ æ‰§è¡Œ â†’ è¾“å…¥ <code class="language-plaintext highlighter-rouge">mark</code> â†’ å˜æˆï¼š<mark>éœ€è¦é«˜äº®çš„éƒ¨åˆ†</mark></li> </ul> <hr/> <h3 id="3-ç»‘å®šå¿«æ·é”®æ¨èshift--space">3. ç»‘å®šå¿«æ·é”®ï¼ˆæ¨èï¼šShift + Spaceï¼‰</h3> <hr/> <p>è®© Emmet åŒ…è£¹æ“ä½œæ›´å¿«æ·ï¼</p> <ol> <li>æ‰“å¼€å¿«æ·é”®è®¾ç½®ï¼ˆCmd+Sï¼‰</li> <li>æœç´¢ <code class="language-plaintext highlighter-rouge">emmet.wrapWithAbbreviation</code></li> <li>è®¾ç½®å¿«æ·é”®ä¸º <code class="language-plaintext highlighter-rouge">Shift + Space</code></li> </ol> <p>è®¾ç½®ååªéœ€ï¼š</p> <ul> <li>é€‰ä¸­æ–‡å­—</li> <li>æŒ‰ <code class="language-plaintext highlighter-rouge">Shift + Space</code></li> <li>è¾“å…¥ <code class="language-plaintext highlighter-rouge">u</code> / <code class="language-plaintext highlighter-rouge">mark</code> / <code class="language-plaintext highlighter-rouge">del</code> ç­‰ï¼Œå³å¯å¿«é€ŸåŒ…è£¹</li> </ul> <hr/> <h2 id="ä¸‰æ¨è-html--markdown-ç»„åˆå†™æ³•ç¤ºä¾‹">ä¸‰ã€æ¨è HTML + Markdown ç»„åˆå†™æ³•ç¤ºä¾‹</h2> <hr/> <div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gs">**&lt;mark&gt;é‡ç‚¹æœ¯è¯­&lt;/mark&gt;**</span>  
<span class="ge">_&lt;u&gt;å¼ºè°ƒå¥å­&lt;/u&gt;_</span>
</code></pre></div></div> <p><strong><mark>é‡ç‚¹æœ¯è¯­</mark></strong><br/> <em><u>å¼ºè°ƒå¥å­</u></em></p>]]></content><author><name></name></author><category term="Internet"/><category term="markdown"/><category term="html"/><summary type="html"><![CDATA[é€šè¿‡ VS Code å¿«æ·é”®ä¸ Emmet åŒ…è£¹åŠŸèƒ½ï¼Œå®ç° Markdown æ–‡æœ¬åŠ ç²—ã€é«˜äº®ã€ä¸‹åˆ’çº¿ç­‰æ‰©å±•æ ¼å¼ï¼Œå…¨é¢æŒæ¡ Markdown è¯­æ³• Ã— HTML æ ‡ç­¾ çš„å®æˆ˜æŠ€å·§ã€‚]]></summary></entry><entry><title type="html">æ‰¹é‡å°†å›¾ç‰‡æ–‡ä»¶åæ”¹ä¸ºå°å†™</title><link href="https://36525.day/blog/2025-06-21/image-file-names-to-lowercase/" rel="alternate" type="text/html" title="æ‰¹é‡å°†å›¾ç‰‡æ–‡ä»¶åæ”¹ä¸ºå°å†™"/><published>2025-06-21T00:00:00-07:00</published><updated>2025-06-21T00:00:00-07:00</updated><id>https://36525.day/blog/2025-06-21/image-file-names-to-lowercase</id><content type="html" xml:base="https://36525.day/blog/2025-06-21/image-file-names-to-lowercase/"><![CDATA[<p><img src="/assets/img/blog/image-file-names-to-lowercase.svg" style="width:100%;" alt="image-file-names-to-lowercase"/></p> <hr/> <p>åœ¨ä½¿ç”¨ GitHub Pages æ­å»ºåšå®¢çš„è¿‡ç¨‹ä¸­ï¼Œå¸¸ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼šæœ¬åœ°å›¾ç‰‡èƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œçº¿ä¸Šå´æ— æ³•æŸ¥çœ‹ã€‚æ ¹æœ¬åŸå› åœ¨äºï¼šGitHub Pages çš„æœåŠ¡å™¨æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚ä¾‹å¦‚ï¼ŒMyImage.JPG ä¸ myimage.JPG åœ¨æœ¬åœ°å¯èƒ½ç­‰ä»·ï¼Œä½†çº¿ä¸Šå¹¶ä¸è¯†åˆ«ä¸ºåŒä¸€æ–‡ä»¶ã€‚</p> <p>ä»¥ä¸‹è„šæœ¬èƒ½æ‰¹é‡æŠŠæŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰å›¾ç‰‡çš„<strong>æ–‡ä»¶åï¼ˆä¸å«æ‰©å±•åï¼‰è½¬æ¢ä¸ºå°å†™</strong>ï¼Œæ‰©å±•åä¿æŒä¸å˜ï¼š</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="c"># è®¾ç½®å›¾ç‰‡ç›®å½•ï¼ˆä¿®æ”¹æˆä½ è‡ªå·±çš„ç›®å½•ï¼‰</span>
<span class="nv">IMAGE_DIR</span><span class="o">=</span>~/Desktop/media

<span class="nb">cd</span> <span class="s2">"</span><span class="nv">$IMAGE_DIR</span><span class="s2">"</span> <span class="o">||</span> <span class="nb">exit </span>1

<span class="c"># æŸ¥æ‰¾æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶ï¼ˆä½ å¯ä»¥å¢åŠ å…¶ä»–ç±»å‹ï¼‰</span>
find <span class="nb">.</span> <span class="nt">-type</span> f <span class="se">\(</span> <span class="nt">-iname</span> <span class="s2">"*.jpg"</span> <span class="nt">-o</span> <span class="nt">-iname</span> <span class="s2">"*.jpeg"</span> <span class="nt">-o</span> <span class="nt">-iname</span> <span class="s2">"*.png"</span> <span class="nt">-o</span> <span class="nt">-iname</span> <span class="s2">"*.webp"</span> <span class="se">\)</span> | <span class="k">while </span><span class="nb">read </span>f<span class="p">;</span> <span class="k">do
  </span><span class="nb">dir</span><span class="o">=</span><span class="si">$(</span><span class="nb">dirname</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span><span class="si">)</span>
  <span class="nv">filename</span><span class="o">=</span><span class="si">$(</span><span class="nb">basename</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span><span class="si">)</span>
  <span class="nv">name</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">filename</span><span class="p">%.*</span><span class="k">}</span><span class="s2">"</span>         <span class="c"># æ–‡ä»¶åï¼ˆä¸å«æ‰©å±•åï¼‰</span>
  <span class="nv">ext</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">filename</span><span class="p">##*.</span><span class="k">}</span><span class="s2">"</span>         <span class="c"># æ‰©å±•å</span>

  <span class="c"># ç”Ÿæˆå°å†™æ–‡ä»¶å</span>
  <span class="nv">lower_name</span><span class="o">=</span><span class="si">$(</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$name</span><span class="s2">"</span> | <span class="nb">tr</span> <span class="s1">'[:upper:]'</span> <span class="s1">'[:lower:]'</span><span class="si">)</span>
  <span class="nv">new_file</span><span class="o">=</span><span class="s2">"</span><span class="nv">$dir</span><span class="s2">/</span><span class="nv">$lower_name</span><span class="s2">.</span><span class="nv">$ext</span><span class="s2">"</span>

  <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="o">!=</span> <span class="s2">"</span><span class="nv">$new_file</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">mv</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$new_file</span><span class="s2">"</span>
  <span class="k">fi
done</span>
</code></pre></div></div> <hr/> <p><strong><mark>ä½¿ç”¨æ–¹æ³•</mark></strong></p> <hr/> <p>å°†è„šæœ¬ä¿å­˜ä¸º <code class="language-plaintext highlighter-rouge">xxxx.sh</code><br/> æ›¿æ¢ IMAGE_DIR=â€¦ ä¸ºä½ å›¾ç‰‡æ‰€åœ¨ç›®å½•è·¯å¾„<br/> èµ‹äºˆæ‰§è¡Œæƒé™å¹¶è¿è¡Œï¼š</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x xxxx.sh
./xxxx.sh
</code></pre></div></div> <p>è¿™æ ·å¯é¿å…çº¿ä¸Šå›¾ç‰‡åŠ è½½å¤±è´¥çš„é—®é¢˜ï¼Œç¡®ä¿æ–‡ä»¶åå’Œå¼•ç”¨è·¯å¾„ä¸€è‡´ã€‚</p>]]></content><author><name></name></author><category term="Internet"/><category term="bash"/><category term="gh-pages"/><summary type="html"><![CDATA[ä½¿ç”¨ Bash è„šæœ¬æ‰¹é‡å°†å›¾ç‰‡æ–‡ä»¶åç»Ÿä¸€è½¬æ¢ä¸ºå°å†™ï¼Œè§£å†³ GitHub Pages çº¿ä¸Šå›¾ç‰‡å› å¤§å°å†™æ•æ„Ÿå¯¼è‡´æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜ã€‚]]></summary></entry><entry><title type="html">GitHub Pages + Cloudflare è‡ªå®šä¹‰åŸŸå HTTPS é…ç½®æŒ‡å—</title><link href="https://36525.day/blog/2025-06-20/https-github-pages-and-cloudflare/" rel="alternate" type="text/html" title="GitHub Pages + Cloudflare è‡ªå®šä¹‰åŸŸå HTTPS é…ç½®æŒ‡å—"/><published>2025-06-20T00:00:00-07:00</published><updated>2025-06-20T00:00:00-07:00</updated><id>https://36525.day/blog/2025-06-20/https-github-pages-and-cloudflare</id><content type="html" xml:base="https://36525.day/blog/2025-06-20/https-github-pages-and-cloudflare/"><![CDATA[<p><img src="/assets/img/blog/https-github-pages-and-cloudflare.webp" style="width:100%;" alt="https-github-pages-and-cloudflare"/></p> <p>å€ŸåŠ© GitHub Pages æ‰˜ç®¡é™æ€ç½‘ç«™ï¼Œå†é€šè¿‡ Cloudflare å®ç° DNS ç®¡ç†ã€HTTPS åŠ å¯†ä¸å…¨çƒåŠ é€Ÿï¼Œæ˜¯æ„å»ºé«˜æ•ˆã€å®‰å…¨ä¸ªäººåšå®¢æˆ–ç«™ç‚¹çš„ç°ä»£ä¸»æµæ–¹æ¡ˆã€‚ æœ¬æ–‡å°†æ‰‹æŠŠæ‰‹å¸¦ä½ é…ç½®è‡ªå®šä¹‰åŸŸåï¼ˆå¦‚ <code class="language-plaintext highlighter-rouge">xxxx.xx</code>ï¼‰ï¼Œå®ç° HTTPS å®‰å…¨è®¿é—®ï¼Œå¹¶è§£å†³å¸¸è§çš„è¯ä¹¦é—®é¢˜å¦‚ <code class="language-plaintext highlighter-rouge">Enforce HTTPS â€” Unavailable</code> å’Œ <code class="language-plaintext highlighter-rouge">SSL 526 é”™è¯¯</code>ã€‚</p> <hr/> <h2 id="ä¸€å‡†å¤‡å·¥ä½œ">ä¸€ã€å‡†å¤‡å·¥ä½œ</h2> <hr/> <table> <thead> <tr> <th>äº‹é¡¹</th> <th>çŠ¶æ€è¯´æ˜</th> </tr> </thead> <tbody> <tr> <td>ä½ å·²æœ‰ä¸€ä¸ªåŸŸå</td> <td>ä¾‹å¦‚ï¼šxxxx.xx</td> </tr> <tr> <td>ä½¿ç”¨ GitHub Pages</td> <td>ä»“åº“å·²å¯ç”¨ Pages åŠŸèƒ½</td> </tr> <tr> <td>ä½¿ç”¨ Cloudflare</td> <td>DNS å·²æ¥ç®¡ï¼ˆæ›´æ¢ NS æœåŠ¡å™¨ï¼‰</td> </tr> </tbody> </table> <hr/> <h2 id="äºŒé…ç½®-cloudflare-dns">äºŒã€é…ç½® Cloudflare DNS</h2> <hr/> <h3 id="è£¸åŸŸå¦‚-xxxxxxæ·»åŠ -a-è®°å½•">è£¸åŸŸï¼ˆå¦‚ <code class="language-plaintext highlighter-rouge">xxxx.xx</code>ï¼‰æ·»åŠ  A è®°å½•</h3> <hr/> <p>è¿›å…¥ Cloudflare â†’ <code class="language-plaintext highlighter-rouge">DNS</code>ï¼Œæ·»åŠ ä»¥ä¸‹ 4 æ¡ A è®°å½•ï¼Œå¹¶å¼€å¯ä»£ç†ï¼ˆæ©™è‰²äº‘ â˜ï¸ï¼‰ï¼š</p> <table> <thead> <tr> <th>ç±»å‹</th> <th>åç§°</th> <th>å€¼</th> <th>ä»£ç†çŠ¶æ€</th> </tr> </thead> <tbody> <tr> <td>A</td> <td>@</td> <td>185.199.108.153</td> <td>â˜ï¸ Proxied</td> </tr> <tr> <td>A</td> <td>@</td> <td>185.199.109.153</td> <td>â˜ï¸ Proxied</td> </tr> <tr> <td>A</td> <td>@</td> <td>185.199.110.153</td> <td>â˜ï¸ Proxied</td> </tr> <tr> <td>A</td> <td>@</td> <td>185.199.111.153</td> <td>â˜ï¸ Proxied</td> </tr> </tbody> </table> <p>è¿™äº›æ˜¯ GitHub Pages å®˜æ–¹é™æ€ IP åœ°å€ã€‚åŠ¡å¿…å¼€å¯æ©™è‰²äº‘ï¼Œå¦åˆ™ Cloudflare æ— æ³•æä¾› HTTPS ä»£ç†åŠŸèƒ½ã€‚</p> <hr/> <h2 id="ä¸‰é…ç½®-cloudflare-sslå¯ç”¨-https">ä¸‰ã€é…ç½® Cloudflare SSLï¼ˆå¯ç”¨ HTTPSï¼‰</h2> <hr/> <h3 id="1-å¼€å¯-universal-sslè‡ªåŠ¨è¯ä¹¦">1. å¼€å¯ Universal SSLï¼ˆè‡ªåŠ¨è¯ä¹¦ï¼‰</h3> <hr/> <p>è·¯å¾„ï¼š<code class="language-plaintext highlighter-rouge">SSL/TLS â†’ Edge Certificates</code> ç¡®è®¤ä½ çœ‹åˆ°æœ‰æ•ˆè¯ä¹¦ï¼ˆä¾‹å¦‚ï¼‰ï¼š</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>é€šç”¨è¯ä¹¦ï¼šxxxx.xx, *.xxxx.xxï¼ˆç”± Cloudflare ç®¡ç†ï¼‰
</code></pre></div></div> <hr/> <h3 id="2-è®¾ç½®æ­£ç¡®çš„-ssl-æ¨¡å¼">2. è®¾ç½®æ­£ç¡®çš„ SSL æ¨¡å¼</h3> <hr/> <p>è·¯å¾„ï¼š<code class="language-plaintext highlighter-rouge">SSL/TLS â†’ Overview</code> é€‰æ‹©ï¼š</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>âœ… Full
</code></pre></div></div> <p>åƒä¸‡ä¸è¦ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">Strict</code> æ¨¡å¼ï¼Œå®ƒä¼šå¯¼è‡´ GitHub Pages æ— æ³•éªŒè¯åŸŸåæ§åˆ¶æƒï¼Œä»è€Œç­¾å‘ HTTPS å¤±è´¥ã€‚</p> <hr/> <h2 id="å››é…ç½®-github-ä»“åº“">å››ã€é…ç½® GitHub ä»“åº“</h2> <hr/> <h3 id="æ·»åŠ -cname-æ–‡ä»¶å¿…é¡»">æ·»åŠ  CNAME æ–‡ä»¶ï¼ˆå¿…é¡»ï¼‰</h3> <hr/> <p>åœ¨ä»“åº“æ ¹ç›®å½•æ·»åŠ  <code class="language-plaintext highlighter-rouge">CNAME</code> æ–‡ä»¶ï¼ˆæ— æ‰©å±•åï¼‰ï¼Œå†…å®¹ä»…ä¸ºä½ ç»‘å®šçš„åŸŸåï¼š</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>xxxx.xx
</code></pre></div></div> <p>æäº¤å¹¶æ¨é€è‡³ GitHubã€‚</p> <hr/> <h2 id="äº”å¯ç”¨-github-pages-å¹¶ç»‘å®šåŸŸå">äº”ã€å¯ç”¨ GitHub Pages å¹¶ç»‘å®šåŸŸå</h2> <hr/> <p>è¿›å…¥ GitHub ä»“åº“ â†’ <code class="language-plaintext highlighter-rouge">Settings â†’ Pages</code>ï¼š</p> <ul> <li> <p>Custom domain å¡«å…¥ï¼š</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>xxxx.xx
</code></pre></div> </div> </li> <li> <p>ç­‰å¾…å‡ åˆ†é’Ÿï¼ŒGitHub å°†å°è¯•è‡ªåŠ¨ç­¾å‘ HTTPS è¯ä¹¦ã€‚</p> </li> <li> <p>æˆåŠŸåï¼Œå¯ç”¨é€‰é¡¹ï¼š</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>âœ… Enforce HTTPS
</code></pre></div> </div> </li> </ul> <hr/> <h3 id="1-å¦‚-enforce-https-æ— æ³•å¯ç”¨æ€ä¹ˆåŠ">1. å¦‚ Enforce HTTPS æ— æ³•å¯ç”¨ï¼Œæ€ä¹ˆåŠï¼Ÿ</h3> <hr/> <p>å¦‚æœçœ‹åˆ°ï¼š</p> <p><code class="language-plaintext highlighter-rouge">Enforce HTTPS â€” Unavailable for your site because your domain is not properly configured to support HTTPS</code></p> <p>è¯´æ˜ GitHub <strong>æ— æ³•éªŒè¯ä½ çš„åŸŸåæ‰€æœ‰æƒ</strong>ï¼Œå¸¸è§åŸå› ï¼š<strong>Cloudflare å¼€å¯äº†ä»£ç†ï¼ŒGitHub æ— æ³•éªŒè¯åŸŸå</strong>ã€‚</p> <hr/> <h3 id="2-è§£å†³æ–¹æ³•">2. è§£å†³æ–¹æ³•</h3> <hr/> <ol> <li>æš‚æ—¶å°† Cloudflare ä¸­çš„ 4 æ¡ A è®°å½•çš„ä»£ç†çŠ¶æ€æ”¹ä¸ºã€Œç°è‰²äº‘ã€ï¼ˆDNS onlyï¼‰</li> <li>ç­‰å¾… 3~15 åˆ†é’Ÿï¼ŒGitHub æˆåŠŸç­¾å‘è¯ä¹¦åï¼Œ<code class="language-plaintext highlighter-rouge">Enforce HTTPS</code> å°†å˜ä¸ºå¯ç”¨</li> <li>å‹¾é€‰å¯ç”¨åï¼Œå°† Cloudflare çš„ A è®°å½•é‡æ–°æ”¹å›ã€Œæ©™è‰²äº‘ â˜ï¸ã€</li> </ol> <hr/> <h2 id="å…­é™„åŠ æ¨èç»‘å®š-www-å­åŸŸ--è£¸åŸŸè·³è½¬">å…­ã€é™„åŠ æ¨èï¼šç»‘å®š www å­åŸŸ + è£¸åŸŸè·³è½¬</h2> <hr/> <h3 id="1-æ·»åŠ -www-å­åŸŸ">1. æ·»åŠ  www å­åŸŸ</h3> <hr/> <p>Cloudflare â†’ DNS æ·»åŠ ï¼š</p> <table> <thead> <tr> <th>ç±»å‹</th> <th>åç§°</th> <th>å€¼</th> <th>ä»£ç†çŠ¶æ€</th> </tr> </thead> <tbody> <tr> <td>CNAME</td> <td>www</td> <td>yourname.github.io</td> <td>â˜ï¸ Proxied</td> </tr> </tbody> </table> <hr/> <h3 id="2-è®¾ç½®è£¸åŸŸè‡ªåŠ¨è·³è½¬è‡³-www">2. è®¾ç½®è£¸åŸŸè‡ªåŠ¨è·³è½¬è‡³ www</h3> <hr/> <p>Cloudflare â†’ <code class="language-plaintext highlighter-rouge">Rules â†’ Redirect Rules</code> æ·»åŠ è§„åˆ™ï¼š</p> <ul> <li>If hostname = <code class="language-plaintext highlighter-rouge">xxxx.xx</code> â†’ 301 é‡å®šå‘è‡³ <code class="language-plaintext highlighter-rouge">https://www.xxxx.xx</code></li> </ul> <p>å¥½å¤„ï¼š</p> <ul> <li>é¿å…è£¸åŸŸ SSL éªŒè¯é—®é¢˜</li> <li>ç”¨æˆ·è®¿é—®è£¸åŸŸè‡ªåŠ¨è·³è½¬ï¼Œæå‡å…¼å®¹æ€§</li> </ul> <hr/> <h2 id="ä¸ƒå¸¸è§é—®é¢˜é€ŸæŸ¥">ä¸ƒã€å¸¸è§é—®é¢˜é€ŸæŸ¥</h2> <hr/> <table> <thead> <tr> <th>é—®é¢˜</th> <th>å¯èƒ½åŸå› </th> <th>è§£å†³æ–¹å¼</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">Enforce HTTPS</code> æ— æ³•å¯ç”¨</td> <td>Cloudflare å¼€å¯ä»£ç†é˜»æ­¢ GitHub éªŒè¯</td> <td>ä¸´æ—¶å…³é—­ä»£ç†ï¼ˆç°è‰²äº‘ï¼‰ï¼Œç­‰å¾…ç­¾å‘åå†å¼€å¯</td> </tr> <tr> <td>æŠ¥é”™ 526 æˆ– SSL æ— æ•ˆ</td> <td>ä½¿ç”¨äº† <code class="language-plaintext highlighter-rouge">Full (Strict)</code>ï¼ŒGitHub è¯ä¹¦å°šæœªç­¾å‘</td> <td>æš‚æ—¶æ”¹ä¸º <code class="language-plaintext highlighter-rouge">Full</code> æ¨¡å¼ï¼Œç­¾å‘æˆåŠŸåå†åˆ‡å› <code class="language-plaintext highlighter-rouge">Strict</code></td> </tr> <tr> <td>è®¿é—®è£¸åŸŸæ— æ•ˆ</td> <td>æ²¡é…ç½® A è®°å½•æˆ–æœªå¼€å¯ä»£ç†</td> <td>æ·»åŠ  4 æ¡ A è®°å½•å¹¶å¼€å¯ â˜ï¸ ä»£ç†</td> </tr> <tr> <td>è¯ä¹¦çœ‹èµ·æ¥ä¸æ˜¯ GitHub çš„</td> <td>å®é™…æ˜¯ Cloudflare çš„è¾¹ç¼˜è¯ä¹¦</td> <td>æ­£å¸¸ç°è±¡ï¼ŒCloudflare ä½¿ç”¨è‡ªå·±çš„è¯ä¹¦åœ¨è¾¹ç¼˜èŠ‚ç‚¹å¤„ç†</td> </tr> </tbody> </table> <hr/> <h2 id="å…«æ€»ç»“é…ç½®é¡ºåº">å…«ã€æ€»ç»“é…ç½®é¡ºåº</h2> <hr/> <ol> <li>æ·»åŠ  4 æ¡è£¸åŸŸ A è®°å½•ï¼ˆ185.199.x.xï¼‰ï¼Œå¼€å¯ä»£ç† â˜ï¸</li> <li>æ·»åŠ ä»“åº“æ ¹ç›®å½• <code class="language-plaintext highlighter-rouge">CNAME</code> æ–‡ä»¶ï¼Œå¡«å…¥åŸŸå</li> <li>åœ¨ GitHub Pages è®¾ç½®ä¸­ç»‘å®šåŸŸåï¼Œç­‰å¾… HTTPS è‡ªåŠ¨ç­¾å‘</li> <li>è‹¥ <code class="language-plaintext highlighter-rouge">Enforce HTTPS</code> æ— æ³•å¯ç”¨ï¼šä¸´æ—¶å…³é—­ Cloudflare ä»£ç†ï¼ˆç°è‰²äº‘ï¼‰ï¼Œç­‰å¾…ç”Ÿæ•ˆ</li> <li>æˆåŠŸåå¯ç”¨ <code class="language-plaintext highlighter-rouge">Enforce HTTPS</code>ï¼Œå†æ”¹å›æ©™è‰²äº‘ â˜ï¸</li> <li>ï¼ˆæ¨èï¼‰æ·»åŠ  <code class="language-plaintext highlighter-rouge">www</code> å­åŸŸå¹¶è®¾ç½®è£¸åŸŸè·³è½¬</li> </ol>]]></content><author><name></name></author><category term="Internet"/><category term="gh-pages"/><category term="cloudflare"/><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">ä½¿ç”¨ ImageMagick æ‰¹é‡è½¬æ¢ JPG ä¸º WebP æ ¼å¼ï¼Œæå‡ç½‘é¡µæ€§èƒ½</title><link href="https://36525.day/blog/2025-06-20/imagemagick-convert-jpg-to-webp/" rel="alternate" type="text/html" title="ä½¿ç”¨ ImageMagick æ‰¹é‡è½¬æ¢ JPG ä¸º WebP æ ¼å¼ï¼Œæå‡ç½‘é¡µæ€§èƒ½"/><published>2025-06-20T00:00:00-07:00</published><updated>2025-06-20T00:00:00-07:00</updated><id>https://36525.day/blog/2025-06-20/imagemagick-convert-jpg-to-webp</id><content type="html" xml:base="https://36525.day/blog/2025-06-20/imagemagick-convert-jpg-to-webp/"><![CDATA[<p><img src="/assets/img/blog/imagemagick-convert-jpg-to-webp.svg" style="width:100%;" alt="imagemagick-convert-jpg-to-webp"/></p> <p>åœ¨ç°ä»£ç½‘é¡µä¼˜åŒ–ä¸­ï¼Œå›¾ç‰‡æ ¼å¼çš„é€‰æ‹©å’Œå‹ç¼©ç‡ç›´æ¥å½±å“é¡µé¢åŠ è½½é€Ÿåº¦å’Œç”¨æˆ·ä½“éªŒã€‚WebP ä½œä¸ºä¸€ç§ç°ä»£å›¾ç‰‡æ ¼å¼ï¼Œå…¼å…·ä¼˜ç§€çš„å‹ç¼©ç‡å’Œè¾ƒå¥½çš„å…¼å®¹æ€§ï¼Œå·²è¢«å¹¿æ³›åº”ç”¨äºç½‘ç«™å›¾ç‰‡ä¼˜åŒ–ã€‚æœ¬æ–‡ä»‹ç»å¦‚ä½•ä½¿ç”¨å¼€æºå·¥å…· ImageMagick å®ç°æœ¬åœ°æ‰¹é‡å°† JPG å›¾ç‰‡è½¬æ¢ä¸º WebP æ ¼å¼ï¼Œç®€æ´é«˜æ•ˆï¼Œé€‚åˆå¼€å‘è€…å’Œè®¾è®¡å¸ˆã€‚</p> <hr/> <h2 id="ä¸€ä¸ºä»€ä¹ˆé€‰æ‹©-webp">ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹© WebPï¼Ÿ</h2> <hr/> <p>WebP æ˜¯ç”± Google æ¨å‡ºçš„å›¾ç‰‡æ ¼å¼ï¼Œæ”¯æŒæœ‰æŸå’Œæ— æŸå‹ç¼©ï¼Œæ–‡ä»¶å¤§å°ç›¸æ¯”ä¼ ç»Ÿ JPEG å’Œ PNG æ ¼å¼å¤§å¹…å‡å°ï¼Œèƒ½æœ‰æ•ˆæå‡ç½‘ç«™åŠ è½½é€Ÿåº¦ï¼Œé™ä½å¸¦å®½ä½¿ç”¨ã€‚</p> <ul> <li><strong>æœ‰æŸå‹ç¼©</strong>ï¼šé€‚åˆç…§ç‰‡ç±»å›¾ç‰‡ï¼Œæ–‡ä»¶æ›´å°ï¼Œè´¨é‡å¯è°ƒ</li> <li><strong>æ— æŸå‹ç¼©</strong>ï¼šé€‚åˆå›¾æ ‡ã€é€æ˜èƒŒæ™¯å›¾ç‰‡ï¼Œä¿è¯å›¾åƒè´¨é‡</li> </ul> <p>å…¼å®¹ä¸»æµæµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Edgeã€Safari 14+ï¼‰ï¼Œæ˜¯ç›®å‰ç½‘é¡µå›¾ç‰‡ä¼˜åŒ–çš„é¦–é€‰æ ¼å¼ã€‚</p> <hr/> <h2 id="äºŒimagemagick-ç®€ä»‹">äºŒã€ImageMagick ç®€ä»‹</h2> <hr/> <p>ImageMagick æ˜¯å¼ºå¤§çš„å¼€æºå›¾åƒå¤„ç†å·¥å…·ï¼Œæ”¯æŒè¶…è¿‡ 200 ç§å›¾ç‰‡æ ¼å¼è½¬æ¢ã€‚é€šè¿‡å‘½ä»¤è¡Œï¼Œå¼€å‘è€…å¯ä»¥å¿«é€Ÿæ‰¹é‡å¤„ç†å›¾ç‰‡ï¼Œæ‰§è¡Œæ ¼å¼è½¬æ¢ã€å°ºå¯¸è°ƒæ•´ã€æ°´å°æ·»åŠ ç­‰å¤šç§æ“ä½œã€‚</p> <hr/> <h2 id="ä¸‰ç¯å¢ƒå‡†å¤‡">ä¸‰ã€ç¯å¢ƒå‡†å¤‡</h2> <hr/> <ul> <li> <p><strong>macOS ç”¨æˆ·</strong>ï¼šæ¨èé€šè¿‡ Homebrew å®‰è£…</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>imagemagick
</code></pre></div> </div> </li> <li> <p><strong>Linux ç”¨æˆ·</strong>ï¼š</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install </span>imagemagick
</code></pre></div> </div> </li> </ul> <hr/> <h2 id="å››æ‰¹é‡è½¬æ¢è„šæœ¬ç¤ºä¾‹">å››ã€æ‰¹é‡è½¬æ¢è„šæœ¬ç¤ºä¾‹</h2> <hr/> <p>å‡è®¾ä½ çš„ JPG å›¾ç‰‡éƒ½å­˜æ”¾åœ¨ <code class="language-plaintext highlighter-rouge">~/Desktop/media</code> æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œä»¥ä¸‹ Bash è„šæœ¬å³å¯å°†æ‰€æœ‰ JPG è½¬æ¢ä¸º WebPï¼Œè½¬æ¢ç»“æœæ”¾åœ¨ <code class="language-plaintext highlighter-rouge">webp_output</code> å­ç›®å½•ï¼š</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="nv">INPUT_DIR</span><span class="o">=</span>~/Desktop/media
<span class="nv">OUTPUT_DIR</span><span class="o">=</span>~/Desktop/media/webp_output

<span class="nb">mkdir</span> <span class="nt">-p</span> <span class="s2">"</span><span class="nv">$OUTPUT_DIR</span><span class="s2">"</span>
<span class="nb">cd</span> <span class="s2">"</span><span class="nv">$INPUT_DIR</span><span class="s2">"</span> <span class="o">||</span> <span class="nb">exit

</span><span class="k">for </span>img <span class="k">in</span> <span class="k">*</span>.jpg <span class="k">*</span>.jpeg<span class="p">;</span> <span class="k">do
  </span>magick convert <span class="s2">"</span><span class="nv">$img</span><span class="s2">"</span> <span class="nt">-quality</span> 80 <span class="s2">"</span><span class="nv">$OUTPUT_DIR</span><span class="s2">/</span><span class="k">${</span><span class="nv">img</span><span class="p">%.jpg</span><span class="k">}</span><span class="s2">.webp"</span>
  <span class="nb">echo</span> <span class="s2">"Converted </span><span class="nv">$img</span><span class="s2"> to WebP."</span>
<span class="k">done

</span><span class="nb">echo</span> <span class="s2">"All images converted and saved in </span><span class="nv">$OUTPUT_DIR</span><span class="s2">"</span>
</code></pre></div></div> <ul> <li><code class="language-plaintext highlighter-rouge">-quality 80</code> å‚æ•°æ§åˆ¶å‹ç¼©è´¨é‡ï¼ŒèŒƒå›´ 0-100ï¼Œ80 æ˜¯å¸¸ç”¨çš„é«˜è´¨é‡è®¾ç½®</li> <li>è¾“å‡ºç›®å½•åˆ†ç¦»ï¼Œé¿å…è¦†ç›–æºæ–‡ä»¶</li> </ul> <hr/> <h2 id="äº”è¿è¡Œæ­¥éª¤">äº”ã€è¿è¡Œæ­¥éª¤</h2> <hr/> <ol> <li> <p>å°†ä¸Šè¿°è„šæœ¬ä¿å­˜ä¸º <code class="language-plaintext highlighter-rouge">convert_webp.sh</code>ï¼Œèµ‹äºˆæ‰§è¡Œæƒé™ï¼š</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x convert_webp.sh
</code></pre></div> </div> </li> <li> <p>æ‰§è¡Œè„šæœ¬ï¼š</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./convert_webp.sh
</code></pre></div> </div> </li> <li> <p>ç­‰å¾…å®Œæˆåï¼Œæ£€æŸ¥ <code class="language-plaintext highlighter-rouge">webp_output</code> æ–‡ä»¶å¤¹ï¼ŒæŸ¥çœ‹è½¬æ¢ç»“æœ</p> </li> </ol> <ul> <li><code class="language-plaintext highlighter-rouge">WARNING: The convert command is deprecated in IMv7, use "magick" instead of "convert" or "magick convert"</code>ï¼Œè¿™æ˜¯ ImageMagick 7 ç‰ˆæœ¬çš„æ–°å˜åŒ–æé†’ï¼Œå»ºè®®ä»¥åç”¨ magick convert æˆ–ç›´æ¥ç”¨ magick å‘½ä»¤ä»£æ›¿ convertï¼Œä½†ä½ è„šæœ¬é‡Œç”¨ magick convert å°±æ˜¯æ­£ç¡®çš„ã€‚</li> </ul> <hr/> <h2 id="å…­æ€»ç»“">å…­ã€æ€»ç»“</h2> <hr/> <p>é€šè¿‡ ImageMagick æ‰¹é‡è½¬æ¢å›¾ç‰‡æ ¼å¼ï¼Œå¼€å‘è€…å¯ä»¥æ–¹ä¾¿å¿«æ·åœ°å°† JPG å›¾ç‰‡è½¬æ¢ä¸ºæ›´é«˜æ•ˆçš„ WebP æ ¼å¼ï¼Œä»è€Œæå‡ç½‘é¡µåŠ è½½æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚ç»“åˆè‡ªåŠ¨åŒ–è„šæœ¬ï¼Œæ‰¹é‡å¤„ç†å¤§æ‰¹é‡å›¾ç‰‡å˜å¾—è½»æ¾ç®€å•ã€‚</p>]]></content><author><name></name></author><category term="Internet"/><category term="image-magick"/><category term="webp"/><category term="bash"/><summary type="html"><![CDATA[ä»‹ç»å¦‚ä½•ä½¿ç”¨ ImageMagick åœ¨æœ¬åœ°æ‰¹é‡å°† JPG å›¾ç‰‡è½¬æ¢ä¸º WebP æ ¼å¼ï¼Œæœ‰æ•ˆå‡å°å›¾ç‰‡ä½“ç§¯ã€æå‡ç½‘é¡µåŠ è½½é€Ÿåº¦ï¼Œå¹¶æä¾›é€‚ç”¨äº macOSã€Linux çš„å®Œæ•´è„šæœ¬ä¸æ“ä½œæŒ‡å—ã€‚]]></summary></entry><entry><title type="html">ç”¨ Python è„šæœ¬è‡ªåŠ¨åŒæ­¥ Markdown æ–‡ç«  Front Matter çš„å›¾ç‰‡é“¾æ¥</title><link href="https://36525.day/blog/2025-06-20/python-update-frontmatter-link/" rel="alternate" type="text/html" title="ç”¨ Python è„šæœ¬è‡ªåŠ¨åŒæ­¥ Markdown æ–‡ç«  Front Matter çš„å›¾ç‰‡é“¾æ¥"/><published>2025-06-20T00:00:00-07:00</published><updated>2025-06-20T00:00:00-07:00</updated><id>https://36525.day/blog/2025-06-20/python-update-frontmatter-link</id><content type="html" xml:base="https://36525.day/blog/2025-06-20/python-update-frontmatter-link/"><![CDATA[<p><img src="/assets/img/blog/python-update-frontmatter-link.webp" style="width:100%;" alt="python-update-frontmatter-link"/></p> <h2 id="ä¸€èƒŒæ™¯">ä¸€ã€èƒŒæ™¯</h2> <hr/> <p>åœ¨ä¿®æ”¹ Markdown æ–‡ç« æ—¶ï¼Œé€šå¸¸éœ€è¦ä¸ºæ¯ç¯‡æ–‡ç« è®¾ç½® <code class="language-plaintext highlighter-rouge">og_image</code>ï¼ˆç¤¾äº¤åˆ†äº«å›¾ï¼‰å’Œ <code class="language-plaintext highlighter-rouge">thumbnail</code>ï¼ˆç¼©ç•¥å›¾ï¼‰ã€‚æ‰‹åŠ¨ç»´æŠ¤è¿™ä¸¤ä¸ªå­—æ®µå¾€å¾€è´¹æ—¶ä¸”æ˜“é”™ï¼Œå°¤å…¶å½“å›¾ç‰‡æ–‡ä»¶åä¸æ–‡ç« æ–‡ä»¶åä¸¥æ ¼å¯¹åº”æ—¶ï¼Œè‡ªåŠ¨åŒ–è„šæœ¬å°±èƒ½æ´¾ä¸Šç”¨åœºã€‚é€šè¿‡ç®€å•çš„ Python è„šæœ¬ï¼Œæ‰¹é‡æ›´æ–°åšå®¢æ–‡ç«  Front Matter ä¸­çš„ <code class="language-plaintext highlighter-rouge">og_image</code> å’Œ <code class="language-plaintext highlighter-rouge">thumbnail</code> å­—æ®µï¼Œä½¿å…¶å’Œæœ¬åœ°å›¾ç‰‡æ–‡ä»¶åä¿æŒä¸€è‡´ï¼Œæå¤§æå‡å†…å®¹ç»´æŠ¤æ•ˆç‡ã€‚</p> <hr/> <h2 id="äºŒéœ€æ±‚åˆ†æ">äºŒã€éœ€æ±‚åˆ†æ</h2> <hr/> <ul> <li>åšå®¢æ–‡ç« ä½äº <code class="language-plaintext highlighter-rouge">_posts</code> æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶åæ ¼å¼å½¢å¦‚ï¼š <code class="language-plaintext highlighter-rouge">2025-06-20-my-post.md</code></li> <li>å¯¹åº”å›¾ç‰‡å­˜æ”¾åœ¨ <code class="language-plaintext highlighter-rouge">assets/img/blog/</code>ï¼Œå›¾ç‰‡æ–‡ä»¶åå½¢å¦‚ï¼š <code class="language-plaintext highlighter-rouge">my-post.webp</code></li> <li>å¸Œæœ›è‡ªåŠ¨å°†æ¯ç¯‡æ–‡ç«  Front Matter ä¸­çš„ <code class="language-plaintext highlighter-rouge">og_image</code> å’Œ <code class="language-plaintext highlighter-rouge">thumbnail</code> æŒ‡å‘å¯¹åº”å›¾ç‰‡çš„è·¯å¾„ï¼š <code class="language-plaintext highlighter-rouge">/assets/img/blog/my-post.webp</code></li> <li>å¦‚æœå­—æ®µä¸å­˜åœ¨ï¼Œè‡ªåŠ¨æ’å…¥ <code class="language-plaintext highlighter-rouge">og_image</code> åœ¨å‰ã€<code class="language-plaintext highlighter-rouge">thumbnail</code> åœ¨å</li> <li>ä¸ä¿®æ”¹æ­£æ–‡å†…å®¹ï¼Œä»…å¤„ç† Front Matter</li> <li>ä¿æŒåŸæœ‰çš„å›¾ç‰‡è·¯å¾„å‰ç¼€ï¼Œæ›¿æ¢æ–‡ä»¶åéƒ¨åˆ†</li> </ul> <hr/> <h2 id="ä¸‰è§£å†³æ–¹æ¡ˆ">ä¸‰ã€è§£å†³æ–¹æ¡ˆ</h2> <hr/> <p>åˆ©ç”¨ Python è„šæœ¬éå†æ‰€æœ‰æ–‡ç« ï¼ŒåŒ¹é…å¯¹åº”å›¾ç‰‡æ–‡ä»¶ï¼Œæ›´æ–° Front Matter ä¸­ç›¸å…³å­—æ®µã€‚æ ¸å¿ƒæ­¥éª¤ï¼š</p> <ol> <li><strong>æ–‡ä»¶åŒ¹é…è§„åˆ™</strong> å»é™¤æ–‡ç« æ–‡ä»¶åå‰çš„æ—¥æœŸå‰ç¼€ï¼ˆå¦‚ <code class="language-plaintext highlighter-rouge">2025-06-20-</code>ï¼‰ï¼Œå¾—åˆ° slug</li> <li><strong>è·¯å¾„æ„é€ </strong> æ‹¼æ¥å›¾ç‰‡ç›®å½•è·¯å¾„ï¼Œæ£€æŸ¥å›¾ç‰‡æ–‡ä»¶æ˜¯å¦å­˜åœ¨</li> <li><strong>Front Matter è¯»å–ä¸ä¿®æ”¹</strong> å®šä½ YAML å¤´éƒ¨åŒºåŸŸï¼ŒæŸ¥æ‰¾ <code class="language-plaintext highlighter-rouge">og_image</code> å’Œ <code class="language-plaintext highlighter-rouge">thumbnail</code> å­—æ®µ</li> <li><strong>å­—æ®µæ›´æ–°æˆ–æ’å…¥</strong> æ›¿æ¢æˆ–æ–°å¢å­—æ®µï¼Œä¿è¯å­—æ®µé¡ºåºå’Œå†…å®¹æ­£ç¡®</li> <li><strong>å†™å›æ–‡ä»¶</strong></li> </ol> <hr/> <h2 id="å››æœ€ç»ˆè„šæœ¬å±•ç¤º-update_thumbnailpy">å››ã€æœ€ç»ˆè„šæœ¬å±•ç¤º <code class="language-plaintext highlighter-rouge">update_thumbnail.py</code></h2> <hr/> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">re</span>

<span class="c1"># === è®¾ç½®ç›®å½• ===
</span><span class="n">posts_dir</span> <span class="o">=</span> <span class="sh">'</span><span class="s">./_posts</span><span class="sh">'</span>
<span class="n">img_dir</span> <span class="o">=</span> <span class="sh">'</span><span class="s">./assets/img/blog</span><span class="sh">'</span>

<span class="c1"># è·å– Markdown æ–‡ä»¶åˆ—è¡¨ï¼ˆæŒ‰å­—æ¯æ’åºï¼‰
</span><span class="n">post_files</span> <span class="o">=</span> <span class="nf">sorted</span><span class="p">([</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="p">.</span><span class="nf">listdir</span><span class="p">(</span><span class="n">posts_dir</span><span class="p">)</span> <span class="k">if</span> <span class="n">f</span><span class="p">.</span><span class="nf">endswith</span><span class="p">(</span><span class="sh">'</span><span class="s">.md</span><span class="sh">'</span><span class="p">)])</span>


<span class="k">for</span> <span class="n">post_file</span> <span class="ow">in</span> <span class="n">post_files</span><span class="p">:</span>
    <span class="n">post_name</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">splitext</span><span class="p">(</span><span class="n">post_file</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># ğŸŸ¡ å»é™¤æ—¥æœŸå‰ç¼€ï¼Œåªä¿ç•™ slug ä½œä¸ºå›¾ç‰‡ååŒ¹é…
</span>    <span class="n">slug</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">sub</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">^\d{4}-\d{2}-\d{2}-</span><span class="sh">'</span><span class="p">,</span> <span class="sh">''</span><span class="p">,</span> <span class="n">post_name</span><span class="p">)</span>
    <span class="n">expected_img</span> <span class="o">=</span> <span class="n">slug</span> <span class="o">+</span> <span class="sh">"</span><span class="s">.webp</span><span class="sh">"</span>
    <span class="n">img_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">img_dir</span><span class="p">,</span> <span class="n">expected_img</span><span class="p">)</span>

    <span class="c1"># å¦‚æœå›¾ç‰‡ä¸å­˜åœ¨ï¼Œè·³è¿‡
</span>    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="n">img_path</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">âš ï¸ ç¼ºå°‘å›¾ç‰‡ï¼š</span><span class="si">{</span><span class="n">expected_img</span><span class="si">}</span><span class="s">ï¼Œè·³è¿‡ </span><span class="si">{</span><span class="n">post_file</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">continue</span>

    <span class="n">img_name</span> <span class="o">=</span> <span class="n">expected_img</span>
    <span class="n">img_web_path</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">/assets/img/blog/</span><span class="si">{</span><span class="n">img_name</span><span class="si">}</span><span class="sh">"</span>

    <span class="c1"># === è¯»å–æ–‡ç« å†…å®¹ ===
</span>    <span class="n">post_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">posts_dir</span><span class="p">,</span> <span class="n">post_file</span><span class="p">)</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">post_path</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>

    <span class="c1"># === å®šä½ Front Matterï¼ˆYAMLï¼‰èŒƒå›´ ===
</span>    <span class="n">in_front_matter</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">front_matter_end_idx</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">lines</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="o">==</span> <span class="sh">'</span><span class="s">---</span><span class="sh">'</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">in_front_matter</span><span class="p">:</span>
                <span class="n">in_front_matter</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">front_matter_end_idx</span> <span class="o">=</span> <span class="n">idx</span>
                <span class="k">break</span>

    <span class="n">fm_lines</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="n">front_matter_end_idx</span><span class="p">]</span>
    <span class="n">new_fm_lines</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">og_image_found</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">thumbnail_found</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fm_lines</span><span class="p">:</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">^(thumbnail:|og_image:)\s*(.+)$</span><span class="sh">'</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">m</span><span class="p">:</span>
            <span class="n">field_name</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">old_path</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="nf">strip</span><span class="p">()</span>
            <span class="n">prefix_match</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">(.*/)</span><span class="sh">'</span><span class="p">,</span> <span class="n">old_path</span><span class="p">)</span>
            <span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix_match</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">prefix_match</span> <span class="k">else</span> <span class="sh">"</span><span class="s">/assets/img/blog/</span><span class="sh">"</span>
            <span class="n">new_path</span> <span class="o">=</span> <span class="n">prefix</span> <span class="o">+</span> <span class="n">img_name</span>
            <span class="n">new_fm_lines</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">field_name</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="n">new_path</span><span class="si">}</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">field_name</span> <span class="o">==</span> <span class="sh">"</span><span class="s">og_image:</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">og_image_found</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">elif</span> <span class="n">field_name</span> <span class="o">==</span> <span class="sh">"</span><span class="s">thumbnail:</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">thumbnail_found</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_fm_lines</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

    <span class="c1"># === æ’å…¥å­—æ®µï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ ===
</span>    <span class="k">if</span> <span class="ow">not</span> <span class="n">og_image_found</span><span class="p">:</span>
        <span class="n">new_fm_lines</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">og_image: </span><span class="si">{</span><span class="n">img_web_path</span><span class="si">}</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">thumbnail_found</span><span class="p">:</span>
        <span class="n">new_fm_lines</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">thumbnail: </span><span class="si">{</span><span class="n">img_web_path</span><span class="si">}</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>

    <span class="c1"># === å†™å›æ–‡ä»¶ï¼šæ›´æ–°åçš„ Front Matter + åŸæ­£æ–‡ ===
</span>    <span class="n">new_lines</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">---</span><span class="se">\n</span><span class="sh">'</span><span class="p">]</span> <span class="o">+</span> <span class="n">new_fm_lines</span> <span class="o">+</span> <span class="p">[</span><span class="sh">'</span><span class="s">---</span><span class="se">\n</span><span class="sh">'</span><span class="p">]</span> <span class="o">+</span> <span class="n">lines</span><span class="p">[</span><span class="n">front_matter_end_idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">post_path</span><span class="p">,</span> <span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="p">.</span><span class="nf">writelines</span><span class="p">(</span><span class="n">new_lines</span><span class="p">)</span>

    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">âœ… å·²æ›´æ–° Front Matterï¼š</span><span class="si">{</span><span class="n">post_file</span><span class="si">}</span><span class="s"> â†’ å›¾ç‰‡ </span><span class="si">{</span><span class="n">img_name</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <hr/> <h2 id="äº”ä½¿ç”¨è¯´æ˜">äº”ã€ä½¿ç”¨è¯´æ˜</h2> <hr/> <ul> <li> <p>å°†è„šæœ¬ä¿å­˜ä¸º <code class="language-plaintext highlighter-rouge">update_thumbnail.py</code> æ”¾åœ¨æ–‡ä»¶å¤¹æ ¹ç›®å½•ï¼ˆæ¯”å¦‚<code class="language-plaintext highlighter-rouge">xx</code>ï¼‰</p> </li> <li> <p>ç¡®ä¿ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>xx/
â”œâ”€â”€ update_thumbnail.py
â”œâ”€â”€ _posts/
â”‚   â”œâ”€â”€ 2025-06-20-my-post.md
â”‚   â””â”€â”€ ...
â””â”€â”€ assets/
    â””â”€â”€ img/
        â””â”€â”€ blog/
            â”œâ”€â”€ my-post.webp
            â””â”€â”€ ...
</code></pre></div> </div> </li> <li> <p>è¿è¡Œè„šæœ¬ï¼š</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Desktop/xx
python3 update_thumbnail.py
</code></pre></div> </div> </li> </ul> <hr/> <h2 id="å…­å¤„ç†ç¤ºä¾‹">å…­ã€å¤„ç†ç¤ºä¾‹</h2> <hr/> <p>å‡è®¾åŸå§‹ Front Matter æ˜¯ï¼š</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
layout: post
title: ç¤ºä¾‹
date: 2025-06-20
---
</code></pre></div></div> <p>è¿è¡Œååˆ™è‡ªåŠ¨å˜ä¸ºï¼š</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
layout: post
title: ç¤ºä¾‹
date: 2025-06-20
og_image: /assets/img/blog/my-post.webp
thumbnail: /assets/img/blog/my-post.webp
---
</code></pre></div></div>]]></content><author><name></name></author><category term="Internet"/><category term="python"/><category term="frontmatter"/><summary type="html"><![CDATA[é€šè¿‡ Python è„šæœ¬æ‰¹é‡æ›´æ–° åšå®¢ Front Matter ä¸­çš„å›¾ç‰‡å­—æ®µï¼Œå®ç°æ–‡ç« ä¸å›¾ç‰‡æ–‡ä»¶åè‡ªåŠ¨åŒ¹é…ï¼Œæå‡ç»´æŠ¤æ•ˆç‡ã€‚]]></summary></entry><entry><title type="html">Markdown æ‰¹é‡æ›´æ–° Front Matter æ—¥æœŸå¹¶é‡å‘½åæ–‡ä»¶çš„å®ç”¨è„šæœ¬æ•™ç¨‹</title><link href="https://36525.day/blog/2025-06-19/markdown-frontmatter-auto-date/" rel="alternate" type="text/html" title="Markdown æ‰¹é‡æ›´æ–° Front Matter æ—¥æœŸå¹¶é‡å‘½åæ–‡ä»¶çš„å®ç”¨è„šæœ¬æ•™ç¨‹"/><published>2025-06-19T00:00:00-07:00</published><updated>2025-06-19T00:00:00-07:00</updated><id>https://36525.day/blog/2025-06-19/markdown-frontmatter-auto-date</id><content type="html" xml:base="https://36525.day/blog/2025-06-19/markdown-frontmatter-auto-date/"><![CDATA[<p><img src="/assets/img/blog/markdown-frontmatter-auto-date.svg" style="width:100%;" alt="markdown-frontmatter-auto-date"/></p> <p>åœ¨æ„å»ºåŸºäº Jekyll æˆ– Hugo çš„åšå®¢æ—¶ï¼Œæ ‡å‡†åŒ–çš„ Front Matter æ ¼å¼ï¼ˆå°¤å…¶æ˜¯ <code class="language-plaintext highlighter-rouge">date:</code> å­—æ®µï¼‰è‡³å…³é‡è¦ã€‚æœ¬æ–‡ä»‹ç»ä¸€ä¸ªä¸¤æ­¥è‡ªåŠ¨åŒ–æ–¹æ¡ˆï¼šä½¿ç”¨ Python æå–æ­£æ–‡æ—¥æœŸå¹¶æ’å…¥åˆ° YAML Front Matter ä¸­ï¼Œç„¶åä½¿ç”¨ Shell è„šæœ¬æŒ‰ <code class="language-plaintext highlighter-rouge">date:</code> é‡å‘½åæ‰€æœ‰ Markdown æ–‡ä»¶ã€‚</p> <hr/> <h2 id="ä¸€ç›®æ ‡">ä¸€ã€ç›®æ ‡</h2> <hr/> <ul> <li>è‡ªåŠ¨ä» Markdown æ­£æ–‡ä¸­æå– <code class="language-plaintext highlighter-rouge">YYYY/MM/DD</code>ï¼Œ<code class="language-plaintext highlighter-rouge">YYYY-MM-DD</code>æ ¼å¼çš„æ—¥æœŸ</li> <li>å°†å…¶è½¬ä¸ºæ ‡å‡†æ ¼å¼ <code class="language-plaintext highlighter-rouge">YYYY-MM-DD</code></li> <li>æ·»åŠ æˆ–æ›´æ–° <code class="language-plaintext highlighter-rouge">date:</code> å­—æ®µåˆ° Front Matter ä¸­</li> <li>æ ¹æ® <code class="language-plaintext highlighter-rouge">date:</code> å­—æ®µé‡å‘½åæ–‡ä»¶ä¸º <code class="language-plaintext highlighter-rouge">YYYY-MM-DD-filename.md</code></li> </ul> <hr/> <h2 id="äºŒä½¿ç”¨-python-è„šæœ¬è‡ªåŠ¨æ›´æ–°-date-å­—æ®µ">äºŒã€ä½¿ç”¨ Python è„šæœ¬è‡ªåŠ¨æ›´æ–° <code class="language-plaintext highlighter-rouge">date:</code> å­—æ®µ</h2> <hr/> <h3 id="1-è„šæœ¬è¯´æ˜">1. è„šæœ¬è¯´æ˜</h3> <hr/> <ul> <li>æœç´¢æ­£æ–‡ä¸­çš„ç¬¬ä¸€ä¸ªæ—¥æœŸï¼ˆæ ¼å¼å¦‚ <code class="language-plaintext highlighter-rouge">2024/5/9</code>ï¼Œ<code class="language-plaintext highlighter-rouge">2024-5-9</code>ï¼‰</li> <li>æ ¼å¼åŒ–ä¸º <code class="language-plaintext highlighter-rouge">2024-05-09</code></li> <li>å†™å…¥ï¼ˆæˆ–æ›´æ–°ï¼‰YAML Front Matter ä¸­çš„ <code class="language-plaintext highlighter-rouge">date:</code> å­—æ®µ</li> </ul> <hr/> <h3 id="2-è„šæœ¬ä»£ç ä¿å­˜ä¸º-update_datepy">2. è„šæœ¬ä»£ç ï¼ˆä¿å­˜ä¸º <code class="language-plaintext highlighter-rouge">update_date.py</code>ï¼‰</h3> <hr/> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">re</span>
<span class="kn">import</span> <span class="n">sys</span>

<span class="n">filename</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>

<span class="c1"># æ‰¾æ­£æ–‡ç¬¬ä¸€æ¬¡å‡ºç° YYYY/MM/DD æ ¼å¼çš„æ—¥æœŸï¼Œæ²¡æœ‰è·³è¿‡
</span><span class="n">date_match</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">(\d{4})/(\d{1,2})/(\d{1,2})</span><span class="sh">'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">date_match</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">No date found in </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s">, skipped</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">yyyy</span><span class="p">,</span> <span class="n">mm</span><span class="p">,</span> <span class="n">dd</span> <span class="o">=</span> <span class="n">date_match</span><span class="p">.</span><span class="nf">groups</span><span class="p">()</span>
<span class="n">date_str</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">yyyy</span><span class="si">}</span><span class="s">-</span><span class="si">{</span><span class="nf">int</span><span class="p">(</span><span class="n">mm</span><span class="p">)</span><span class="si">:</span><span class="mi">02</span><span class="n">d</span><span class="si">}</span><span class="s">-</span><span class="si">{</span><span class="nf">int</span><span class="p">(</span><span class="n">dd</span><span class="p">)</span><span class="si">:</span><span class="mi">02</span><span class="n">d</span><span class="si">}</span><span class="sh">"</span>

<span class="c1"># åˆ¤æ–­æ˜¯å¦æœ‰ Front Matterï¼Œåˆ†å‰²
</span><span class="k">if</span> <span class="n">content</span><span class="p">.</span><span class="nf">startswith</span><span class="p">(</span><span class="sh">'</span><span class="s">---</span><span class="sh">'</span><span class="p">):</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">content</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">'</span><span class="s">---</span><span class="sh">'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">fm</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

    <span class="c1"># æ›¿æ¢æˆ–æ–°å¢ date: å­—æ®µ
</span>    <span class="k">if</span> <span class="n">re</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">^date:\s*.*$</span><span class="sh">'</span><span class="p">,</span> <span class="n">fm</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">MULTILINE</span><span class="p">):</span>
        <span class="n">fm_new</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">sub</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">^date:\s*.*$</span><span class="sh">'</span><span class="p">,</span> <span class="sa">f</span><span class="sh">"</span><span class="s">date: </span><span class="si">{</span><span class="n">date_str</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span> <span class="n">fm</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="p">.</span><span class="n">MULTILINE</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">fm_new</span> <span class="o">=</span> <span class="n">fm</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="o">+</span> <span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">date: </span><span class="si">{</span><span class="n">date_str</span><span class="si">}</span><span class="se">\n</span><span class="sh">"</span>

    <span class="n">new_content</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">---</span><span class="si">{</span><span class="n">fm_new</span><span class="si">}</span><span class="s">---</span><span class="si">{</span><span class="n">body</span><span class="si">}</span><span class="sh">"</span>

<span class="k">else</span><span class="p">:</span>
    <span class="c1"># æ²¡æœ‰ Front Matterï¼Œæ–°å¢ä¸€ä¸ª
</span>    <span class="n">new_content</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">---</span><span class="se">\n</span><span class="s">date: </span><span class="si">{</span><span class="n">date_str</span><span class="si">}</span><span class="se">\n</span><span class="s">---</span><span class="se">\n</span><span class="si">{</span><span class="n">content</span><span class="si">}</span><span class="sh">"</span>

<span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">new_content</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Updated </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s"> with date: </span><span class="si">{</span><span class="n">date_str</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <hr/> <h2 id="ä¸‰shell-è„šæœ¬æŒ‰-date-å­—æ®µæ‰¹é‡é‡å‘½åæ–‡ä»¶">ä¸‰ã€Shell è„šæœ¬æŒ‰ <code class="language-plaintext highlighter-rouge">date:</code> å­—æ®µæ‰¹é‡é‡å‘½åæ–‡ä»¶</h2> <hr/> <h3 id="1-è„šæœ¬ä»£ç å¯ä¿å­˜ä¸º-rename_by_datesh">1. è„šæœ¬ä»£ç ï¼ˆå¯ä¿å­˜ä¸º <code class="language-plaintext highlighter-rouge">rename_by_date.sh</code>ï¼‰</h3> <hr/> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="k">for </span>file <span class="k">in</span> <span class="k">*</span>.md<span class="p">;</span> <span class="k">do
  </span><span class="nv">date_prefix</span><span class="o">=</span><span class="si">$(</span><span class="nb">grep</span> <span class="nt">-m1</span> <span class="s1">'^date:'</span> <span class="s2">"</span><span class="nv">$file</span><span class="s2">"</span> | <span class="nb">sed</span> <span class="nt">-E</span> <span class="s1">'s/date:[[:space:]]*([0-9]{4}-[0-9]{2}-[0-9]{2}).*/\1/'</span><span class="si">)</span>
  <span class="k">if</span> <span class="o">[[</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$date_prefix</span><span class="s2">"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
    </span><span class="nv">new_name</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">date_prefix</span><span class="k">}</span><span class="s2">-</span><span class="nv">$file</span><span class="s2">"</span>
    <span class="nb">mv</span> <span class="s2">"</span><span class="nv">$file</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$new_name</span><span class="s2">"</span>
    <span class="nb">echo</span> <span class="s2">"Renamed </span><span class="nv">$file</span><span class="s2"> â†’ </span><span class="nv">$new_name</span><span class="s2">"</span>
  <span class="k">fi
done</span>
</code></pre></div></div> <hr/> <h3 id="2-æ•´æ®µé€»è¾‘è¯´æ˜">2. æ•´æ®µé€»è¾‘è¯´æ˜</h3> <hr/> <table> <thead> <tr> <th>ä»£ç ç‰‡æ®µ</th> <th>ä½œç”¨è¯´æ˜</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">for file in *.md; do ... done</code></td> <td>éå†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ Markdown æ–‡ä»¶ï¼ˆ<code class="language-plaintext highlighter-rouge">.md</code> ç»“å°¾ï¼‰</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">date_prefix=$(grep -m1 '^date:' "$file" \| sed -E '...')</code></td> <td>ä»æ–‡ä»¶ä¸­æå– <code class="language-plaintext highlighter-rouge">date: YYYY-MM-DD</code> çš„å€¼ï¼ˆä¾‹å¦‚ <code class="language-plaintext highlighter-rouge">2024-06-20</code>ï¼‰ï¼Œå¹¶èµ‹å€¼ç»™å˜é‡ <code class="language-plaintext highlighter-rouge">date_prefix</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">grep -m1 '^date:'</code></td> <td>æŸ¥æ‰¾å¼€å¤´ä¸º <code class="language-plaintext highlighter-rouge">date:</code> çš„ç¬¬ä¸€è¡Œï¼ˆé¿å…å¤šæ¬¡åŒ¹é…ï¼‰</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">sed -E 's/date:[[:space:]]*([0-9]{4}-[0-9]{2}-[0-9]{2}).*/\1/'</code></td> <td>ä½¿ç”¨æ­£åˆ™ä» <code class="language-plaintext highlighter-rouge">date:</code> è¿™ä¸€è¡Œä¸­æå– <code class="language-plaintext highlighter-rouge">YYYY-MM-DD</code> æ—¥æœŸ</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">[[ -n "$date_prefix" ]]</code></td> <td>åˆ¤æ–­æ˜¯å¦æˆåŠŸæå–æ—¥æœŸï¼ˆéç©ºï¼‰</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">new_name="${date_prefix}-$file"</code></td> <td>æ„é€ æ–°æ–‡ä»¶åï¼šåœ¨åŸæ–‡ä»¶åå‰åŠ ä¸Šæ—¥æœŸå‰ç¼€ï¼Œå¦‚ <code class="language-plaintext highlighter-rouge">2025-06-20-xxx.md</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">mv "$file" "$new_name"</code></td> <td>ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">mv</code> å‘½ä»¤å°†åŸæ–‡ä»¶é‡å‘½å</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">echo "Renamed $file â†’ $new_name"</code></td> <td>è¾“å‡ºé‡å‘½åæ—¥å¿—ï¼Œæç¤ºç”¨æˆ·æœ¬æ¬¡å¤„ç†çš„æ–‡ä»¶åå˜æ›´</td> </tr> </tbody> </table> <hr/> <h3 id="3-æ•ˆæœç¤ºä¾‹">3. æ•ˆæœç¤ºä¾‹</h3> <hr/> <table> <thead> <tr> <th>åŸå§‹æ–‡ä»¶å</th> <th>æ–‡ä»¶å†…å®¹ä¸­çš„æ—¥æœŸå­—æ®µ</th> <th>æ‰§è¡Œåæ–‡ä»¶å</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">article.md</code></td> <td><code class="language-plaintext highlighter-rouge">date: 2024/06/20</code></td> <td><code class="language-plaintext highlighter-rouge">2024-06-20-article.md</code></td> </tr> </tbody> </table> <hr/> <h2 id="å››ä½¿ç”¨æ–¹æ³•ç»ˆç«¯ä¸­æ‰§è¡Œ">å››ã€ä½¿ç”¨æ–¹æ³•ï¼ˆç»ˆç«¯ä¸­æ‰§è¡Œï¼‰</h2> <hr/> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Desktop/drafts  <span class="c"># åˆ‡æ¢åˆ°ä½ çš„ Markdown æ–‡ä»¶å¤¹</span>
<span class="c"># é€ä¸ªæ–‡ä»¶è°ƒç”¨ Python è„šæœ¬</span>
<span class="k">for </span>file <span class="k">in</span> <span class="k">*</span>.md<span class="p">;</span> <span class="k">do </span>python3 ../update_date.py <span class="s2">"</span><span class="nv">$file</span><span class="s2">"</span><span class="p">;</span> <span class="k">done</span>
<span class="c"># ç„¶åæ‰§è¡Œé‡å‘½åè„šæœ¬</span>
bash rename_by_date.sh
</code></pre></div></div>]]></content><author><name></name></author><category term="Internet"/><category term="markdown"/><category term="frontmatter"/><category term="python"/><category term="bash"/><summary type="html"><![CDATA[åˆ©ç”¨ Python ä¸ Shell è„šæœ¬ï¼Œä»æ­£æ–‡æå–æ—¥æœŸå¹¶è‡ªåŠ¨å†™å…¥æˆ–æ›´æ–° YAML Front Matter ä¸­çš„ date å­—æ®µï¼Œå¹¶æ‰¹é‡æŒ‰æ—¥æœŸé‡å‘½åæ–‡ä»¶åï¼Œé€‚ç”¨äºé™æ€åšå®¢å†…å®¹ç®¡ç†ã€‚]]></summary></entry><entry><title type="html">macOS æœ¬åœ°ä»é›¶å¼€å§‹é…ç½® Prettier + VS Code</title><link href="https://36525.day/blog/2025-06-18/prettier-nodejs-vscode/" rel="alternate" type="text/html" title="macOS æœ¬åœ°ä»é›¶å¼€å§‹é…ç½® Prettier + VS Code"/><published>2025-06-18T00:00:00-07:00</published><updated>2025-06-18T00:00:00-07:00</updated><id>https://36525.day/blog/2025-06-18/prettier-nodejs-vscode</id><content type="html" xml:base="https://36525.day/blog/2025-06-18/prettier-nodejs-vscode/"><![CDATA[<p><img src="/assets/img/blog/prettier-nodejs-vscode.webp" style="width:100%;" alt="prettier-nodejs-vscode"/></p> <p>æœ¬æŒ‡å—é€‚ç”¨äºå¸Œæœ›<strong>æ‰¹é‡æ ¼å¼åŒ– Markdownã€YAMLã€HTMLã€JSã€CSS ç­‰æ–‡ä»¶</strong>çš„ç”¨æˆ·ï¼Œå°¤å…¶é€‚åˆä½¿ç”¨ VS Code çš„ç”¨æˆ·ã€‚</p> <hr/> <h2 id="ä¸€å®‰è£…-nodejsæ¨èä½¿ç”¨-homebrew">ä¸€ã€å®‰è£… Node.jsï¼ˆæ¨èä½¿ç”¨ Homebrewï¼‰</h2> <hr/> <p>Prettier ä¾èµ– Node.js ç¯å¢ƒï¼Œå»ºè®®é€šè¿‡ Homebrew å®‰è£…ï¼Œä¾¿äºæ›´æ–°ä¸ç®¡ç†ã€‚</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>node
</code></pre></div></div> <p>å®‰è£…å®Œæˆåï¼Œåœ¨ç»ˆç«¯è¿è¡ŒéªŒè¯å‘½ä»¤ï¼š</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>node <span class="nt">-v</span>
npm <span class="nt">-v</span>
</code></pre></div></div> <p>ç¤ºä¾‹è¾“å‡ºï¼š</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>v22.16.0
10.9.2
</code></pre></div></div> <hr/> <h3 id="å¸¸è§é—®é¢˜">å¸¸è§é—®é¢˜</h3> <hr/> <p>å¦‚é‡ <code class="language-plaintext highlighter-rouge">zsh: command not found: node</code>ï¼Œè¯·ç¡®è®¤è·¯å¾„æ˜¯å¦åŠ å…¥ç¯å¢ƒå˜é‡ï¼š</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"/opt/homebrew/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
<span class="nb">source</span> ~/.zprofile
</code></pre></div></div> <hr/> <h2 id="äºŒåœ¨é¡¹ç›®ä¸­å®‰è£…-prettier">äºŒã€åœ¨é¡¹ç›®ä¸­å®‰è£… Prettier</h2> <hr/> <p>è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•ï¼ˆå¦‚ <code class="language-plaintext highlighter-rouge">xxxx.github.io</code>ï¼‰ï¼š</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/xx/xxxx.github.io
</code></pre></div></div> <p>å®‰è£… Prettier åˆ°é¡¹ç›®å¼€å‘ä¾èµ–ä¸­ï¼š</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="nt">--save-dev</span> prettier
</code></pre></div></div> <p>å®‰è£…æˆåŠŸåï¼Œç›®å½•ä¸­ä¼šå‡ºç°ï¼š</p> <ul> <li><code class="language-plaintext highlighter-rouge">node_modules/</code></li> <li><code class="language-plaintext highlighter-rouge">package-lock.json</code></li> <li><code class="language-plaintext highlighter-rouge">package.json</code>ï¼ˆå¦‚åŸæœ¬ä¸å­˜åœ¨ä¼šè‡ªåŠ¨ç”Ÿæˆï¼‰</li> </ul> <hr/> <h2 id="ä¸‰å®‰è£…-vs-code-æ’ä»¶prettier">ä¸‰ã€å®‰è£… VS Code æ’ä»¶ï¼šPrettier</h2> <hr/> <ol> <li>æ‰“å¼€ VS Code</li> <li>å‰å¾€æ‰©å±•å•†åº—ï¼Œæœç´¢å¹¶å®‰è£…ï¼š</li> </ol> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Prettier - Code formatter
</code></pre></div></div> <hr/> <h2 id="å››é…ç½®-vs-code-è‡ªåŠ¨æ ¼å¼åŒ–">å››ã€é…ç½® VS Code è‡ªåŠ¨æ ¼å¼åŒ–</h2> <hr/> <p>æ‰“å¼€ <code class="language-plaintext highlighter-rouge">settings.json</code>ï¼ˆæ‰“å¼€å‘½ä»¤é¢æ¿ï¼š<code class="language-plaintext highlighter-rouge">Cmd + Shift + P</code>ï¼Œå‘½ä»¤é¢æ¿ä¸­æœç´¢ <code class="language-plaintext highlighter-rouge">Preferences: Open Settings (JSON)</code>ï¼‰ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"editor.defaultFormatter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"esbenp.prettier-vscode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"editor.formatOnSave"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>è‡ªåŠ¨ä¿å­˜ã€‚å¦‚ä½ åªå¸Œæœ›å¯¹ç‰¹å®šè¯­è¨€å¯ç”¨ï¼ˆå¦‚ Markdownï¼‰ï¼š</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"[markdown]"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"editor.defaultFormatter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"esbenp.prettier-vscode"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"editor.formatOnSave"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr/> <h2 id="äº”é…ç½®-prettier-è¡Œä¸ºå¯é€‰">äº”ã€é…ç½® Prettier è¡Œä¸ºï¼ˆå¯é€‰ï¼‰</h2> <hr/> <h3 id="1-åˆ›å»º-prettierrc-æ–‡ä»¶">1. åˆ›å»º <code class="language-plaintext highlighter-rouge">.prettierrc</code> æ–‡ä»¶</h3> <hr/> <p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code class="language-plaintext highlighter-rouge">.prettierrc</code> æ–‡ä»¶ï¼Œè‡ªå®šä¹‰æ ¼å¼è§„åˆ™ã€‚ä¾‹å¦‚ï¼š</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"tabWidth"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"useTabs"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"semi"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"singleQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trailingComma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"es5"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"printWidth"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="nl">"proseWrap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"preserve"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr/> <h3 id="2-åˆ›å»º-prettierignore-æ–‡ä»¶">2. åˆ›å»º <code class="language-plaintext highlighter-rouge">.prettierignore</code> æ–‡ä»¶</h3> <hr/> <p>å¯ç”¨äºæ’é™¤ä¸å¸Œæœ›æ ¼å¼åŒ–çš„è·¯å¾„ï¼Œä¾‹å¦‚ï¼š</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>node_modules
_site
_assets
docs/vendor
*.min.js
</code></pre></div></div> <hr/> <h2 id="å…­æ‰¹é‡æ ¼å¼åŒ–é¡¹ç›®æ–‡ä»¶">å…­ã€æ‰¹é‡æ ¼å¼åŒ–é¡¹ç›®æ–‡ä»¶</h2> <hr/> <p>åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œä»¥ä¸‹å‘½ä»¤æ ¼å¼åŒ–æ‰€æœ‰æ”¯æŒçš„æ–‡ä»¶ï¼š</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npx prettier <span class="nb">.</span> <span class="nt">--write</span>
</code></pre></div></div> <p>å¯é€‰ç”¨æ³•ï¼ˆæ¨èï¼‰ï¼š</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npx prettier <span class="s2">"**/*.{md,yml,yaml,html,json,css,js}"</span> <span class="nt">--write</span>
</code></pre></div></div> <p>ä»…æ£€æŸ¥æ ¼å¼ï¼ˆä¸ä¼šä¿®æ”¹æ–‡ä»¶ï¼‰ï¼š</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npx prettier <span class="nb">.</span> <span class="nt">--check</span>
</code></pre></div></div>]]></content><author><name></name></author><category term="Internet"/><category term="vscode"/><category term="prettier"/><summary type="html"><![CDATA[æœ¬æ–‡è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨ macOS æœ¬åœ°é€šè¿‡ Homebrew å®‰è£… Node.jsï¼Œå¹¶ç»“åˆ Prettier ä¸ VS Codeï¼Œå®ç°å¯¹ Markdownã€YAMLã€HTMLã€JS ç­‰å¸¸è§æ ¼å¼çš„è‡ªåŠ¨ä¸æ‰¹é‡æ ¼å¼åŒ–ã€‚]]></summary></entry><entry><title type="html">å±æœºç”Ÿå­˜æ³•åˆ™ / Crisis Survival Rules</title><link href="https://36525.day/blog/2025-06-17/crisis-survival-rules/" rel="alternate" type="text/html" title="å±æœºç”Ÿå­˜æ³•åˆ™ / Crisis Survival Rules"/><published>2025-06-17T00:00:00-07:00</published><updated>2025-06-17T00:00:00-07:00</updated><id>https://36525.day/blog/2025-06-17/crisis-survival-rules</id><content type="html" xml:base="https://36525.day/blog/2025-06-17/crisis-survival-rules/"><![CDATA[<p><img src="/assets/img/blog/" style="width:100%;" alt=""/></p> <hr/> <h2 id="å±æœºç”Ÿå­˜æ³•åˆ™">å±æœºç”Ÿå­˜æ³•åˆ™</h2> <hr/> <p>ç”Ÿå‘½è¢«æŒŸæŒï¼Œæ±‚æ´æ— å£°ï¼Œä½“åˆ¶æ²‰é»˜ã€‚<br/> æŒ‡è´£å¤–ç•Œï¼Ÿä¸è¿‡æ˜¯ <strong><mark>é£ä¸­å¾®å¼±çš„å¹æ¯</mark></strong>ï¼Œ<u>å¾’åŠ³ä¸”å±é™©</u>ã€‚<br/> æ­¤åˆ»ï¼Œä½ é¡»è‡ªä¸»æ±‚ç”Ÿã€‚è¿™ä¸æ˜¯é€‰æ‹©ï¼Œè€Œæ˜¯å”¯ä¸€çš„å‡ºè·¯ã€‚</p> <p>åœ¨åˆ€é”‹ä¸æš—å½±ä¸‹ï¼Œä½ å¿…é¡»ä¿æŒå†·é™ã€‚è®©å‘¼å¸æ·±è€Œç¼“ï¼Œè®©å¿ƒè·³å›å½’å¹³é™ã€‚<br/> <strong><mark>æƒ…ç»ªæ˜¯ç‡ƒçƒ§çš„é‡ç«</mark></strong>ï¼Œä¼šæ¨¡ç³Šè§†çº¿ï¼Œå‰Šå¼±åˆ¤æ–­ã€‚<strong><mark>è¨€è¯­ï¼Œå½“å¦‚æ°´èˆ¬æµæ·Œ</mark></strong>ï¼š<u>é¡ºä»ï¼Œè€Œä¸å‘å¾®ï¼›ä¸æ¿€æ€’ï¼Œåªæ±‚ç”Ÿå­˜</u>ã€‚<br/> æ¯ä¸€æ¬¡ç¼“æ…¢çš„æŒªåŠ¨ï¼Œæ¯ä¸€æ¬¡çœ‹ä¼¼æ— æ„çš„çœ¼ç¥ï¼Œéƒ½å¯èƒ½æ˜¯ä¸ºè‡ªå·±äº‰å–æ—¶é—´çš„ç­¹ç ï¼Œä¸ºè„±å›°åˆ›é€ è½¬ç¬å³é€çš„å¥‘æœºã€‚</p> <p>é¢å¯¹æ— ä¸ºçš„ç³»ç»Ÿï¼Œ<strong><mark>ä¸å¿…å°†æ„¤æ€’åŒ–ä½œå¾’åŠ³çš„æ‚²å¼</mark></strong>ã€‚é‚£åªä¼šå¼•æ¥æ›´æ·±çš„æ²‰é»˜ï¼Œç”šè‡³åå™¬ã€‚<br/> ä½ éœ€ <u>æ™ºæ…§æ–½å‹ï¼Œå¦‚æ°´æ»´çŸ³ç©¿ï¼Œæ— å£°å´æœ‰åŠ›</u>ã€‚<br/> æ¯ä¸€æ¬¡æ‹¨å‡ºçš„ç”µè¯ï¼Œæ¯ä¸€æ¬¡å‘é€çš„ä¿¡æ¯ï¼Œæ¯ä¸€æ¬¡è®°å½•çš„ç»†èŠ‚ï¼Œéƒ½ç•™ä¸‹ç—•è¿¹ã€‚ å®ƒä»¬ä¸æ˜¯ä¸ºäº†å½“å³çš„æ•‘æ´ï¼Œè€Œæ˜¯ä¸ºäº†æ—¥åçš„è¿½è´£ï¼Œä¸ºäº†æ­å¼€é‚£å±‚æ©ç›–äº‹å®çš„è–„é›¾ã€‚</p> <p>ç¤¾ä¼šå†·æ¼ å¦‚æµ·ï¼Œæ—è§‚è€…ä¼—å¤šï¼Œå´æ— äººä¼¸å‡ºæ´æ‰‹ã€‚ è¿™æ˜¯ <strong><mark>æ®‹é…·çš„ç°å®ï¼Œä½†ç»éæ— æœ›çš„ç»ˆç‚¹</mark></strong>ã€‚<br/> æµ·é¢ä¸Šä»æœ‰ç¼éš™ï¼Œä½ éœ€è¦æŠ“ä½é‚£<u>å¾®å¼±è¿æ¥</u>â€”â€”ä¹Ÿè®¸æ˜¯æŸä¸ªæ“¦è‚©è€Œè¿‡çš„çœ¼ç¥ï¼Œä¹Ÿè®¸æ˜¯ç¤¾äº¤åª’ä½“ä¸Šä¸€ç‚¹å¾®å¼±çš„å›å“ã€‚<br/> ä¸è¦å¯„å¸Œæœ›äºå¥‡è¿¹ï¼Œä½†ä¹Ÿ<u>ä¸è¦æ”¾å¼ƒä»»ä½•ä¸€ä¸å¯èƒ½</u>ã€‚</p> <p>æœ€é‡è¦çš„æ˜¯ï¼Œç»´æŠ¤ <strong><mark>å†…å¿ƒéŸ§æ€§</mark></strong>ï¼Œé‚£æ˜¯ä½ åœ¨<u>æ— è¾¹é»‘æš—ä¸­å”¯ä¸€çš„ç¯å¡”</u>ã€‚<br/> ææƒ§å’Œç»æœ›ä¼šè¯•å›¾åå™¬ä½ ï¼Œè®©ä½ å¤±å»è¡ŒåŠ¨çš„èƒ½åŠ›ã€‚ ä½†ä½ è¦åå¤æé†’è‡ªå·±ï¼Œä½ æ‹¥æœ‰<strong><mark>è‡ªä¸»åŠ›é‡</mark></strong>ï¼Œä½ èƒ½å¤Ÿåº”å¯¹ã€‚<br/> å³ä¾¿èº«ä½“è¢«æŸç¼šï¼Œæ€æƒ³ä¹Ÿå¿…é¡»è‡ªç”±ã€‚ é‚£æ˜¯<u>æŠµæŠ—ä¸€åˆ‡çš„æœ€åå ¡å’</u>ã€‚</p> <p>åœ¨ç»å¢ƒä¸­ï¼Œ<strong><mark>ç†æ€§ä¸åšéŸ§</mark></strong>æ‰æ˜¯ä½ <u>æ‰‹ä¸­æœ€é”‹åˆ©çš„å‰‘åˆƒ</u>ï¼Œä¸ºä½ <strong><mark>åŠˆå¼€ä¸€æ¡é€šå‘ç”Ÿå­˜ä¸æ­£ä¹‰çš„å¹½å¾„</mark></strong>ã€‚<br/> è¿™æ¡è·¯æˆ–è®¸æ¼«é•¿ï¼Œæˆ–è®¸å¸ƒæ»¡è†æ£˜ï¼Œä½†åªè¦é‚£å¾®å¼±çš„ç«å…‰å°šå­˜ï¼Œä½ ä¾¿æœ‰äº†å‰è¡Œçš„æ–¹å‘ã€‚</p> <hr/> <h2 id="crisis-survival-rules">Crisis Survival Rules</h2> <hr/> <p>When life is taken hostage, cries for help go unheard, and the system remains mute.<br/> Blaming the outside world? Itâ€™s but <strong><mark>a faint sigh in the wind</mark></strong>, <u>futile and dangerous</u>.<br/> In this moment, you must survive on your own. This is not a choice; it is the only way.</p> <p>Amid blades and shadows, you must stay calm. Breathe slow and deep. Steady your heartbeat.<br/> <strong><mark>Emotion is a wildfire</mark></strong>, it clouds vision and weakens judgment. Your <strong><mark>words must flow like water</mark></strong>: <u>compliant, but never submissive; unprovoking, but always alert</u>.<br/> Every slow movement, every seemingly casual glance, may buy you precious seconds, creating fleeting chances to escape.</p> <p>In the face of an inert system, <strong><mark>don't waste rage on fruitless screams</mark></strong>. They will only bring deeper silenceâ€”or retaliation.<br/> <u>Apply pressure with wisdom, like water wearing away stone, silent but unrelenting</u>.<br/> Each call you make, each message you send, each detail you record, leave a trail. Not for immediate rescue, but for future accountability, to lift the veil that hides the truth.</p> <p>Society is an ocean of apathy. Bystanders are many, but few will extend a hand. This is <strong><mark>the brutal truth, but not the end of hope</mark></strong>.<br/> There are still cracks on the surface, uyou must seize those <u>fragile threads</u>, perhaps a passing glance, perhaps a faint echo on social media.<br/> Do not rely on miracles, but <strong><mark>never give up on any sliver of possibility</mark></strong>.</p> <p>Most of all, protect your <strong><mark>inner resilience</mark></strong>, it is your <u>only lighthouse in the vast darkness</u>.<br/> Fear and despair will try to paralyze you, to strip away your will. But remind yourself again and again, you <strong><mark>hold agency</mark></strong>, you can respond.<br/> Even if your body is restrained, your mind must remain free. That is <u>the last bastion against everything</u>.</p> <p>In the depths of desperation, <strong><mark>reason and tenacity</mark></strong> are your <u>sharpest blades in hands</u>, <strong><mark>cutting a hidden path toward survival and justice</mark></strong>.<br/> The road may be long and thorny, but as long as even a faint spark remains, you have a direction to follow.</p>]]></content><author><name></name></author><category term="Notes"/><category term="crisis"/><category term="survival"/><summary type="html"><![CDATA[åœ¨ç”Ÿå‘½å¨èƒã€æ±‚åŠ©æ— é—¨æˆ–ä½“åˆ¶å¤±çµçš„å±æœºä¸­ï¼Œç†æ€§ä¸åšéŸ§æ‰æ˜¯æ‰‹ä¸­æœ€é”‹åˆ©çš„å‰‘åˆƒï¼ŒåŠˆå¼€ä¸€æ¡é€šå‘ç”Ÿå­˜ä¸æ­£ä¹‰çš„å¹½å¾„ã€‚In times of crisis, when life is threatened, help is unavailable, or systems fail, reason and tenacity are the sharpest blades in hands, cutting a hidden path toward survival and justice.]]></summary></entry><entry><title type="html">Jekyll ä¾èµ–ç®¡ç†ï¼šæ­£ç¡®ä¿®æ”¹ Gemfile å¹¶é¿å…æ„å»ºé”™è¯¯</title><link href="https://36525.day/blog/2025-06-17/jekyll-update-gemfile-guide/" rel="alternate" type="text/html" title="Jekyll ä¾èµ–ç®¡ç†ï¼šæ­£ç¡®ä¿®æ”¹ Gemfile å¹¶é¿å…æ„å»ºé”™è¯¯"/><published>2025-06-17T00:00:00-07:00</published><updated>2025-06-17T00:00:00-07:00</updated><id>https://36525.day/blog/2025-06-17/jekyll-update-gemfile-guide</id><content type="html" xml:base="https://36525.day/blog/2025-06-17/jekyll-update-gemfile-guide/"><![CDATA[<p><img src="/assets/img/blog/jekyll-update-gemfile-guide.webp" style="width:100%;" alt="jekyll-update-gemfile-guide"/></p> <p>å½“ä½ åœ¨ç»´æŠ¤ Jekyll é¡¹ç›®æ—¶ï¼Œ<strong>ä¿®æ”¹ Gemfile åå´å¿˜è®°æ›´æ–° Gemfile.lock</strong>ï¼Œå¾ˆå®¹æ˜“å¯¼è‡´æ„å»ºå¤±è´¥ï¼ˆç‰¹åˆ«æ˜¯åœ¨ GitHub Actionsã€Cloudflare Pages ç­‰ CI/CD ç¯å¢ƒï¼‰ã€‚æœ¬æ–‡æ€»ç»“äº†å¸¸è§é—®é¢˜ã€æ­£ç¡®åšæ³•å’Œå‘½ä»¤æŠ€å·§ï¼Œå¸®ä½ é¿å…è¸©å‘ã€‚</p> <hr/> <h2 id="ä¸€åŸºç¡€æ¦‚å¿µ">ä¸€ã€åŸºç¡€æ¦‚å¿µ</h2> <hr/> <table> <thead> <tr> <th>æ–‡ä»¶å</th> <th>ä½œç”¨è¯´æ˜</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">Gemfile</code></td> <td>å£°æ˜ä½ é¡¹ç›®éœ€è¦å“ªäº› Ruby gemsï¼ˆæ’ä»¶ï¼‰</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">Gemfile.lock</code></td> <td>é”å®š gem çš„å…·ä½“ç‰ˆæœ¬ï¼Œç¡®ä¿ä¸åŒç¯å¢ƒä¸‹ä¾èµ–ä¸€è‡´</td> </tr> <tr> <td>Bundler</td> <td>ç®¡ç†ä¸Šè¿°ä¸¤ä¸ªæ–‡ä»¶ã€å®‰è£…å’Œæ›´æ–°ä¾èµ–çš„å·¥å…·</td> </tr> </tbody> </table> <hr/> <h2 id="äºŒå¸¸è§é—®é¢˜åŠé”™è¯¯ä¿¡æ¯">äºŒã€å¸¸è§é—®é¢˜åŠé”™è¯¯ä¿¡æ¯</h2> <hr/> <p><strong>åœºæ™¯</strong>ï¼šä½ åˆ é™¤äº†æŸä¸ªæ’ä»¶ï¼ˆå¦‚ <code class="language-plaintext highlighter-rouge">jekyll-jupyter-notebook</code>ï¼‰åï¼Œä»…æ›´æ–°äº† <code class="language-plaintext highlighter-rouge">Gemfile</code>ï¼Œæ²¡æ”¹ <code class="language-plaintext highlighter-rouge">Gemfile.lock</code>ï¼Œç»“æœåœ¨ CI æ„å»ºæ—¶æŠ¥é”™ï¼š</p> <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Some dependencies were deleted from your gemfile, but the lockfile can't be updated because frozen mode is set
</code></pre></div></div> <p><strong>åŸå› </strong>ï¼šCI ç¯å¢ƒé»˜è®¤å¼€å¯ <code class="language-plaintext highlighter-rouge">frozen</code> æ¨¡å¼ï¼Œç¦æ­¢è‡ªåŠ¨æ›´æ–° <code class="language-plaintext highlighter-rouge">Gemfile.lock</code>ï¼Œä»¥é¿å…ä¾èµ–å˜æ›´å¸¦æ¥çš„ä¸ç¡®å®šæ€§ã€‚</p> <hr/> <h2 id="ä¸‰æ­£ç¡®ä¿®æ”¹ä¾èµ–çš„æµç¨‹">ä¸‰ã€æ­£ç¡®ä¿®æ”¹ä¾èµ–çš„æµç¨‹</h2> <hr/> <p>ä¿®æ”¹ Gemfile</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># åˆ é™¤æˆ–æ³¨é‡Šæ‰ä¸éœ€è¦çš„æ’ä»¶</span>
<span class="c1"># gem "jekyll-jupyter-notebook"</span>
</code></pre></div></div> <p>å…è®¸æ›´æ–°é”æ–‡ä»¶</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle config <span class="nb">set </span>frozen <span class="nb">false</span>
</code></pre></div></div> <p>æ›´æ–°ä¾èµ–å¹¶é‡ç”Ÿæˆ <code class="language-plaintext highlighter-rouge">Gemfile.lock</code></p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle <span class="nb">install</span>
</code></pre></div></div> <p>æäº¤æ”¹åŠ¨</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add Gemfile Gemfile.lock
git commit <span class="nt">-m</span> <span class="s2">"Update dependencies"</span>
git push
</code></pre></div></div> <hr/> <h2 id="å››cicd-æ„å»ºæ³¨æ„äº‹é¡¹">å››ã€CI/CD æ„å»ºæ³¨æ„äº‹é¡¹</h2> <hr/> <table> <thead> <tr> <th>å»ºè®®åšæ³•</th> <th>åŸå› </th> </tr> </thead> <tbody> <tr> <td>æœ¬åœ°æ›´æ–° <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> å¹¶æäº¤</td> <td>CI ç¯å¢ƒé”å®šä¾èµ–ï¼Œé¿å…æ„å»ºå¤±è´¥</td> </tr> <tr> <td>ä¸è¦åœ¨ CI ä¸­ç¦ç”¨ frozen æ¨¡å¼</td> <td>æœ‰å®‰å…¨é£é™©ï¼Œå®¹æ˜“å¼•å…¥é”™è¯¯ç‰ˆæœ¬</td> </tr> <tr> <td>é‡åˆ°æŠ¥é”™å…ˆæ£€æŸ¥æ˜¯å¦æäº¤äº†é”æ–‡ä»¶</td> <td>å¤šæ•°æ„å»ºé”™è¯¯éƒ½æ˜¯å› ä¸ºæ¼äº† Gemfile.lock</td> </tr> </tbody> </table> <hr/> <h2 id="äº”å¸¸è§å‘-vs-è§£å†³æ–¹æ¡ˆ">äº”ã€å¸¸è§å‘ vs è§£å†³æ–¹æ¡ˆ</h2> <hr/> <table> <thead> <tr> <th>é—®é¢˜åœºæ™¯</th> <th>æ­£ç¡®è§£å†³æ–¹å¼</th> </tr> </thead> <tbody> <tr> <td>æ„å»ºæ—¶æŠ¥é”™ frozen</td> <td>æœ¬åœ°è¿è¡Œ <code class="language-plaintext highlighter-rouge">bundle config set frozen false</code> åé‡æ–°å®‰è£…</td> </tr> <tr> <td>æ‰‹åŠ¨æ”¹äº† <code class="language-plaintext highlighter-rouge">Gemfile.lock</code></td> <td>ç¦æ­¢æ‰‹åŠ¨ä¿®æ”¹ï¼è¯·ç”¨ <code class="language-plaintext highlighter-rouge">bundle install</code> è‡ªåŠ¨å¤„ç†</td> </tr> <tr> <td>æ’ä»¶ç‰ˆæœ¬å†²çªæˆ–ç¼ºå¤±</td> <td>æ£€æŸ¥ Gemfile ä¸­æ’ä»¶ç‰ˆæœ¬æ˜¯å¦å…¼å®¹</td> </tr> <tr> <td>éƒ¨ç½²ç¯å¢ƒæ— æ³•å®‰è£…ä¾èµ–</td> <td>ç¡®ä¿ Gemfile.lock è¢«æ­£ç¡®æäº¤å¹¶åŒæ­¥</td> </tr> </tbody> </table> <hr/> <h2 id="å…­å¿«é€Ÿå‘½ä»¤æ±‡æ€»å¤åˆ¶å³ç”¨">å…­ã€å¿«é€Ÿå‘½ä»¤æ±‡æ€»ï¼ˆå¤åˆ¶å³ç”¨ï¼‰</h2> <hr/> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /your/jekyll/project/path

bundle config <span class="nb">set </span>frozen <span class="nb">false
</span>bundle <span class="nb">install

</span>git add Gemfile Gemfile.lock
git commit <span class="nt">-m</span> <span class="s2">"Update dependencies"</span>
git push
</code></pre></div></div> <hr/> <h2 id="ä¸ƒæ€»ç»“å»ºè®®">ä¸ƒã€æ€»ç»“å»ºè®®</h2> <hr/> <p>è®°ä½è¿™å‡ ç‚¹ï¼š</p> <ul> <li>æ”¹ Gemfile âœ ä¸€å®šä¹Ÿè¦æ”¹ Gemfile.lock</li> <li>ç”¨ <code class="language-plaintext highlighter-rouge">bundle install</code> è‡ªåŠ¨æ›´æ–°é”æ–‡ä»¶ï¼Œä¸è¦æ‰‹åŠ¨æ”¹</li> <li>CI ç¯å¢ƒä¿ç•™ <code class="language-plaintext highlighter-rouge">frozen: true</code> è®¾ç½®ï¼Œç¡®ä¿ç‰ˆæœ¬ä¸€è‡´æ€§</li> <li>å…ˆæœ¬åœ°æ£€æŸ¥ã€å†æäº¤æ„å»ºï¼Œé¿å… CI æŠ¥é”™</li> </ul>]]></content><author><name></name></author><category term="Internet"/><category term="jekyll"/><category term="gemfile"/><summary type="html"><![CDATA[æœ¬æ–‡æ•´ç†äº†åœ¨ Jekyll é¡¹ç›®ä¸­æ­£ç¡®ä¿®æ”¹ Gemfile å’Œ Gemfile.lock çš„æœ€ä½³å®è·µï¼Œå¹¶é™„ä¸Šå¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆã€‚]]></summary></entry></feed>